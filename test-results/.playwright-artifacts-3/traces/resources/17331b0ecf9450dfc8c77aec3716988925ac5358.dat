"use strict";(self.webpackChunkcheckout_web=self.webpackChunkcheckout_web||[]).push([[179],{72924:function(e,t,n){n.d(t,{A:function(){return bi}});var r=n(9417),i=n(63662),a=n(15299),o=n(90675),s=n(90991),u=n(53954),c=n(64467),d=n(92901),p=n(85501),f=n(50531),l=n(60436),h=n(82284),_=n(5544),v=n(41003),m=(n(52675),n(89463),n(16280),n(76918),n(28706),n(2008),n(50113),n(48980),n(23418),n(74423),n(25276),n(23792),n(62062),n(44114),n(72712),n(94490),n(34782),n(26910),n(54554),n(11745),n(60739),n(77462),n(33110),n(36033),n(2892),n(69085),n(67945),n(84185),n(5506),n(83851),n(81278),n(40875),n(79432),n(10287),n(26099),n(58940),n(3362),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(99449),n(21699),n(47764),n(71761),n(25440),n(90744),n(11392),n(42762),n(39202),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(41405),n(33684),n(73772),n(30958),n(43250),n(10149),n(24082),n(23500),n(62953),n(27208),Object.defineProperty),g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,b=function(e,t,n){return t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},k=function(e,t){for(var n in t||(t={}))S.call(t,n)&&b(e,n,t[n]);if(E)for(var r,i=(0,v.A)(E(t));!(r=i()).done;)n=r.value,T.call(t,n)&&b(e,n,t[n]);return e},R=function(e,t){return g(e,y(t))},w=function(e,t){var n={};for(var r in e)S.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&E)for(var i,a=(0,v.A)(E(e));!(i=a()).done;)r=i.value,t.indexOf(r)<0&&T.call(e,r)&&(n[r]=e[r]);return n},x=function(e,t){for(var n in t)m(e,n,{get:t[n],enumerable:!0})},D=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))};function N(e){return Object.entries(e).filter((function(e){var t=(0,_.A)(e,2)[1];return t||!1===t})).map((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(String(r))})).join("&")}function A(e){var t=e&&e.ownerDocument||document;return{document:t,window:t.defaultView||t.parentWindow||window}}function C(e){return e||document.head}var B="hCaptcha-script",U="hCaptchaOnLoad",I="script-error",O="@hCaptcha/loader",Y=Object.prototype.toString;function G(e){switch(Y.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return J(e,Error)}}function P(e,t){return Y.call(e)==="[object "+t+"]"}function j(e){return P(e,"ErrorEvent")}function L(e){return P(e,"DOMError")}function M(e){return P(e,"String")}function q(e){return null===e||"object"!=(0,h.A)(e)&&"function"!=typeof e}function H(e){return P(e,"Object")}function F(e){return"undefined"!=typeof Event&&J(e,Event)}function z(e){return!(!e||!e.then||"function"!=typeof e.then)}function W(e){return"number"==typeof e&&e!=e}function J(e,t){try{return e instanceof t}catch(n){return!1}}function V(e){return!("object"!=(0,h.A)(e)||null===e||!e.__isVue&&!e._isVue)}function $(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.slice(0,t)+"..."}function X(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{V(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(a){n.push("[value cannot be serialized]")}}return n.join(t)}function K(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=!1),t.some((function(t){return function(e,t,n){return void 0===n&&(n=!1),!!M(e)&&(function(e){return P(e,"RegExp")}(t)?t.test(e):!!M(t)&&(n?e===t:e.includes(t)))}(e,t,n)}))}function Z(e,t,n,r,i,a,o){if(void 0===n&&(n=250),a.exception&&a.exception.values&&o&&J(o.originalException,Error)){var s=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;s&&(a.exception.values=function(e,t){return e.map((function(e){return e.value&&(e.value=$(e.value,t)),e}))}(Q(e,t,i,o.originalException,r,a.exception.values,s,0),n))}}function Q(e,t,n,r,i,a,o,s){if(a.length>=n+1)return a;var u=(0,l.A)(a);if(J(r[i],Error)){ee(o,s);var c=e(t,r[i]),d=u.length;te(c,i,d,s),u=Q(e,t,n,r[i],i,[c].concat((0,l.A)(u)),c,d)}return Array.isArray(r.errors)&&r.errors.forEach((function(r,a){if(J(r,Error)){ee(o,s);var c=e(t,r),d=u.length;te(c,"errors["+a+"]",d,s),u=Q(e,t,n,r,i,[c].concat((0,l.A)(u)),c,d)}})),u}function ee(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=R(k({},e.mechanism),{is_exception_group:!0,exception_id:t})}function te(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=R(k({},e.mechanism),{type:"chained",source:t,exception_id:n,parent_id:r})}function ne(e){return e&&e.Math==Math?e:void 0}var re="object"==("undefined"==typeof globalThis?"undefined":(0,h.A)(globalThis))&&ne(globalThis)||"object"==("undefined"==typeof window?"undefined":(0,h.A)(window))&&ne(window)||"object"==("undefined"==typeof self?"undefined":(0,h.A)(self))&&ne(self)||"object"==("undefined"==typeof global?"undefined":(0,h.A)(global))&&ne(global)||function(){return this}()||{};function ie(){return re}function ae(e,t,n){var r=n||re,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}var oe=ie(),se=80;function ue(e,t){void 0===t&&(t={});try{for(var n,r=e,i=[],a=0,o=0,s=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||se;r&&a++<5&&!("html"===(n=ce(r,s))||a>1&&o+3*i.length+n.length>=u);)i.push(n),o+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch(r){return"<unknown>"}}function ce(e,t){var n,r,i,a,o,s=e,u=[];if(!s||!s.tagName)return"";u.push(s.tagName.toLowerCase());var c=t&&t.length?t.filter((function(e){return s.getAttribute(e)})).map((function(e){return[e,s.getAttribute(e)]})):null;if(c&&c.length)c.forEach((function(e){u.push("["+e[0]+'="'+e[1]+'"]')}));else if(s.id&&u.push("#"+s.id),(n=s.className)&&M(n))for(r=n.split(/\s+/),o=0;o<r.length;o++)u.push("."+r[o]);var d=["aria-label","type","name","title","alt"];for(o=0;o<d.length;o++)i=d[o],(a=s.getAttribute(i))&&u.push("["+i+'="'+a+'"]');return u.join("")}var de=["debug","info","warn","error","log","assert","trace"],pe={};function fe(e){if(!("console"in re))return e();var t=re.console,n={},r=Object.keys(pe);r.forEach((function(e){var r=pe[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((function(e){t[e]=n[e]}))}}var le,he,_e=(le=!1,he={enable:function(){le=!0},disable:function(){le=!1}},"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?de.forEach((function(e){he[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];le&&fe((function(){var t;(t=re.console)[e].apply(t,["Sentry Logger ["+e+"]:"].concat(n))}))}})):de.forEach((function(e){he[e]=function(){}})),he),ve=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function me(e,t){void 0===t&&(t=!1);var n=e.host,r=e.path,i=e.pass,a=e.port,o=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+"@"+n+(a?":"+a:"")+"/"+(r&&r+"/")+o}function ge(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}var ye=function(e){function t(n,i){var a;return void 0===i&&(i="warn"),(a=e.call(this,n)||this).message=n,a.name=(this instanceof t?this.constructor:void 0).prototype.constructor.name,Object.setPrototypeOf((0,r.A)(a),(this instanceof t?this.constructor:void 0).prototype),a.logLevel=i,a}return(0,p.A)(t,e),(0,d.A)(t)}((0,f.A)(Error));function Ee(e,t,n){if(t in e){var r=e[t],i=n(r);"function"==typeof i&&Te(i,r),e[t]=i}}function Se(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log('Failed to add non-enumerable property "'+t+'" to object',e)}}function Te(e,t){try{var n=t.prototype||{};e.prototype=t.prototype=n,Se(e,"__sentry_original__",t)}catch(n){}}function be(e){return e.__sentry_original__}function ke(e){if(G(e))return k({message:e.message,name:e.name,stack:e.stack},we(e));if(F(e)){var t=k({type:e.type,target:Re(e.target),currentTarget:Re(e.currentTarget)},we(e));return"undefined"!=typeof CustomEvent&&J(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Re(e){try{return function(e){return"undefined"!=typeof Element&&J(e,Element)}(e)?ue(e):Object.prototype.toString.call(e)}catch(he){return"<unknown>"}}function we(e){if("object"==(0,h.A)(e)&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function xe(e){return De(e,new Map)}function De(e,t){if(H(e)){var n=t.get(e);if(void 0!==n)return n;var r={};t.set(e,r);for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];void 0!==e[o]&&(r[o]=De(e[o],t))}return r}if(Array.isArray(e)){var s=t.get(e);if(void 0!==s)return s;var u=[];return t.set(e,u),e.forEach((function(e){u.push(De(e,t))})),u}return e}var Ne=/\(error: (.*)\)/,Ae=/captureMessage|captureException/,Ce="<anonymous>";function Be(e){try{return e&&"function"==typeof e&&e.name||Ce}catch(he){return Ce}}var Ue=ie();function Ie(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var Oe,Ye=ie(),Ge=ie(),Pe="__sentry_xhr_v2__",je={},Le={};function Me(e){if(!Le[e])switch(Le[e]=!0,e){case"console":"console"in re&&de.forEach((function(e){e in re.console&&Ee(re.console,e,(function(t){return pe[e]=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];He("console",{args:n,level:e});var i=pe[e];i&&i.apply(re.console,n)}}))}));break;case"dom":!function(){if(Ge.document){var e=He.bind(null,"dom"),t=$e(e,!0);Ge.document.addEventListener("click",t,!1),Ge.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=Ge[t]&&Ge[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ee(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var a=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=a[n]=a[n]||{refCount:0};if(!o.handler){var s=$e(e);o.handler=s,t.call(this,n,s,i)}o.refCount++}catch(u){}return t.call(this,n,r,i)}})),Ee(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},a=i[t];a&&(a.refCount--,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(o){}return e.call(this,t,n,r)}})))}))}}();break;case"xhr":!function(){if(Ge.XMLHttpRequest){var e=XMLHttpRequest.prototype;Ee(e,"open",(function(e){return function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r[1],o=this[Pe]={method:M(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};M(a)&&"POST"===o.method&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);var s=function(){var e=t[Pe];if(e&&4===t.readyState){try{e.status_code=t.status}catch(n){}He("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:t})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?Ee(this,"onreadystatechange",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s(),e.apply(this,n)}})):this.addEventListener("readystatechange",s),Ee(this,"setRequestHeader",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=this[Pe];return o&&(o.request_headers[i.toLowerCase()]=a),e.apply(this,n)}})),e.apply(this,r)}})),Ee(e,"send",(function(e){return function(){for(var t=this[Pe],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t&&void 0!==r[0]&&(t.body=r[0]),He("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}}))}}();break;case"fetch":(function(){if(!function(){if(!("fetch"in Ue))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(Ie(Ue.fetch))return!0;var e=!1,t=Ue.document;if(t&&"function"==typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ie(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e})()&&Ee(re,"fetch",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){var t=(0,_.A)(e,2),n=t[0],r=t[1];return{url:ze(n),method:Fe(r,"method")?String(r.method).toUpperCase():"GET"}}var i=e[0];return{url:ze(i),method:Fe(i,"method")?String(i.method).toUpperCase():"GET"}}(n),a={args:n,fetchData:{method:i.method,url:i.url},startTimestamp:Date.now()};return He("fetch",k({},a)),e.apply(re,n).then((function(e){return He("fetch",R(k({},a),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw He("fetch",R(k({},a),{endTimestamp:Date.now(),error:e})),e}))}}));break;case"history":!function(){if(function(){var e=Ye.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ye&&!!Ye.history.pushState&&!!Ye.history.replaceState;return!t&&n}()){var e=Ge.onpopstate;Ge.onpopstate=function(){var t=Ge.location.href,n=Oe;if(Oe=t,He("history",{from:n,to:t}),e)try{for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(this,i)}catch(o){}},Ee(Ge.history,"pushState",t),Ee(Ge.history,"replaceState",t)}function t(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.length>2?n[2]:void 0;if(i){var a=Oe,o=String(i);Oe=o,He("history",{from:a,to:o})}return e.apply(this,n)}}}();break;case"error":Ke=Ge.onerror,Ge.onerror=function(e,t,n,r,i){return He("error",{column:r,error:i,line:n,msg:e,url:t}),!(!Ke||Ke.__SENTRY_LOADER__)&&Ke.apply(this,arguments)},Ge.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":Ze=Ge.onunhandledrejection,Ge.onunhandledrejection=function(e){return He("unhandledrejection",e),!(Ze&&!Ze.__SENTRY_LOADER__)||Ze.apply(this,arguments)},Ge.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("unknown instrumentation type:",e))}}function qe(e,t){je[e]=je[e]||[],je[e].push(t),Me(e)}function He(e,t){if(e&&je[e])for(var n,r=(0,v.A)(je[e]||[]);!(n=r()).done;){var i=n.value;try{i(t)}catch(a){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Be(i)+"\nError:",a)}}}function Fe(e,t){return!!e&&"object"==(0,h.A)(e)&&!!e[t]}function ze(e){return"string"==typeof e?e:e?Fe(e,"url")?e.url:e.toString?e.toString():"":""}var We,Je,Ve=1e3;function $e(e,t){return void 0===t&&(t=!1),function(n){if(n&&Je!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===We||function(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(n){}return!1}(Je,n))&&(e({event:n,name:r,global:t}),Je=n),clearTimeout(We),We=Ge.setTimeout((function(){We=void 0}),Ve)}}}var Xe,Ke=null,Ze=null;function Qe(){var e=re,t=e.crypto||e.msCrypto,n=function(){return 16*Math.random()};try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=function(){return t.getRandomValues(new Uint8Array(1))[0]})}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(function(e){return(e^(15&n())>>e/4).toString(16)}))}function et(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function tt(e){var t=e.message,n=e.event_id;if(t)return t;var r=et(e);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function nt(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function rt(e,t){var n=et(e);if(n){var r=n.mechanism;if(n.mechanism=k(k(k({},{type:"generic",handled:!0}),r),t),t&&"data"in t){var i=k(k({},r&&r.data),t.data);n.mechanism.data=i}}}function it(e){if(e&&e.__sentry_captured__)return!0;try{Se(e,"__sentry_captured__",!0)}catch(he){}return!1}function at(e,t,n){void 0===t&&(t=100),void 0===n&&(n=1/0);try{return st("",e,t,n)}catch(r){return{ERROR:"**non-serializable** ("+r+")"}}}function ot(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=at(e,t);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}(r)>n?ot(e,t-1,n):r}function st(e,t,n,r,i){void 0===n&&(n=1/0),void 0===r&&(r=1/0),void 0===i&&(i=function(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(var r=0;r<t.length;r++)if(t[r]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(var r=0;r<t.length;r++)if(t[r]===n){t.splice(r,1);break}}]}());var a=i,o=(0,_.A)(a,2),s=o[0],u=o[1];if(null==t||["number","boolean","string"].includes((0,h.A)(t))&&!W(t))return t;var c=function(e,t){try{if("domain"===e&&t&&"object"==(0,h.A)(t)&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(V(t))return"[VueViewModel]";if(function(e){return H(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return"[Function: "+Be(t)+"]";if("symbol"==(0,h.A)(t))return"["+String(t)+"]";if("bigint"==typeof t)return"[BigInt: "+String(t)+"]";var n=function(e){var t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?"[HTMLElement: "+n+"]":"[object "+n+"]"}catch(n){return"**non-serializable** ("+n+")"}}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;var d="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===d)return c.replace("object ","");if(s(t))return"[Circular ~]";var p=t;if(p&&"function"==typeof p.toJSON)try{return st("",p.toJSON(),d-1,r,i)}catch(y){}var f=Array.isArray(t)?[]:{},l=0,v=ke(t);for(var m in v)if(Object.prototype.hasOwnProperty.call(v,m)){if(l>=r){f[m]="[MaxProperties ~]";break}var g=v[m];f[m]=st(m,g,d-1,r,i),l++}return u(t),f}function ut(e){return new dt((function(t){t(e)}))}function ct(e){return new dt((function(t,n){n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Xe||(Xe={}));var dt=function(){function e(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Xe.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return(0,d.A)(e,[{key:"then",value:function(t,n){var r=this;return new e((function(e,i){r._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(r){i(r)}else e(n)},function(t){if(n)try{e(n(t))}catch(r){i(r)}else i(t)}]),r._executeHandlers()}))}},{key:"catch",value:function(e){return this.then((function(e){return e}),e)}},{key:"finally",value:function(t){var n=this;return new e((function(e,r){var i,a;return n.then((function(e){a=!1,i=e,t&&t()}),(function(e){a=!0,i=e,t&&t()})).then((function(){a?r(i):e(i)}))}))}},{key:"__init",value:function(){var e=this;this._resolve=function(t){e._setResult(Xe.RESOLVED,t)}}},{key:"__init2",value:function(){var e=this;this._reject=function(t){e._setResult(Xe.REJECTED,t)}}},{key:"__init3",value:function(){var e=this;this._setResult=function(t,n){if(e._state===Xe.PENDING){if(z(n))return void n.then(e._resolve,e._reject);e._state=t,e._value=n,e._executeHandlers()}}}},{key:"__init4",value:function(){var e=this;this._executeHandlers=function(){if(e._state!==Xe.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(e._state===Xe.RESOLVED&&t[1](e._value),e._state===Xe.REJECTED&&t[2](e._value),t[0]=!0)}))}}}}]),e}();function pt(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}var ft=["fatal","error","warning","log","info","debug"];function lt(e){return"warn"===e?"warning":ft.includes(e)?e:"log"}var ht=ie(),_t={nowSeconds:function(){return Date.now()/1e3}},vt="undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__||"[object process]"!==Object.prototype.toString.call("undefined"!=typeof process?process:0)?function(){var e=ht.performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}():function(){try{return module.require("perf_hooks").performance}catch(le){return}}(),mt=void 0===vt?_t:{nowSeconds:function(){return(vt.timeOrigin+vt.now())/1e3}},gt=_t.nowSeconds.bind(_t),yt=mt.nowSeconds.bind(mt),Et=function(){var e=ht.performance;if(e&&e.now){var t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,o=e.timing&&e.timing.navigationStart,s="number"==typeof o?Math.abs(o+n-r):t;return a||s<t?i<=s?e.timeOrigin:o:r}}(),St="baggage",Tt="sentry-",bt=/^sentry-/,kt=8192;function Rt(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((function(e,t,n){var r=(0,_.A)(t,2),i=r[0],a=r[1],o=encodeURIComponent(i)+"="+encodeURIComponent(a),s=0===n?o:e+","+o;return s.length>kt?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Not adding key: "+i+" with val: "+a+" to baggage header due to exceeding baggage size limits."),e):s}),"")}(Object.entries(e).reduce((function(e,t){var n=(0,_.A)(t,2),r=n[0],i=n[1];return i&&(e[""+Tt+r]=i),e}),{}))}function wt(e){return e.split(",").map((function(e){return e.split("=").map((function(e){return decodeURIComponent(e.trim())}))})).reduce((function(e,t){var n=(0,_.A)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}var xt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Dt(e,t,n){void 0===e&&(e=Qe()),void 0===t&&(t=Qe().substring(16));var r="";return void 0!==n&&(r=n?"-1":"-0"),e+"-"+t+r}function Nt(e,t){return void 0===t&&(t=[]),[e,t]}function At(e,t){var n=(0,_.A)(e,2),r=n[0],i=n[1];return[r,[].concat((0,l.A)(i),[t])]}function Ct(e,t){for(var n,r=e[1],i=(0,v.A)(r);!(n=i()).done;){var a=n.value;if(t(a,a[0].type))return!0}return!1}function Bt(e,t){return(t||new TextEncoder).encode(e)}function Ut(e,t){var n=(0,_.A)(e,2),r=n[0],i=n[1],a=JSON.stringify(r);function o(e){"string"==typeof a?a="string"==typeof e?a+e:[Bt(a,t),e]:a.push("string"==typeof e?Bt(e,t):e)}for(var s,u=(0,v.A)(i);!(s=u()).done;){var c=s.value,d=(0,_.A)(c,2),p=d[0],f=d[1];if(o("\n"+JSON.stringify(p)+"\n"),"string"==typeof f||f instanceof Uint8Array)o(f);else{var l=void 0;try{l=JSON.stringify(f)}catch(h){l=JSON.stringify(at(f))}o(l)}}return"string"==typeof a?a:function(e){for(var t,n=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(n),i=0,a=(0,v.A)(e);!(t=a()).done;){var o=t.value;r.set(o,i),i+=o.length}return r}(a)}function It(e,t){var n="string"==typeof e.data?Bt(e.data,t):e.data;return[xe({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var Ot={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function Yt(e){return Ot[e]}function Gt(e){if(e&&e.sdk){var t=e.sdk;return{name:t.name,version:t.version}}}var Pt="production";function jt(){return ae("globalEventProcessors",(function(){return[]}))}function Lt(e){jt().push(e)}function Mt(e,t,n,r){return void 0===r&&(r=0),new dt((function(i,a){var o=e[r];if(null===t||"function"!=typeof o)i(t);else{var s=o(k({},t),n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.id&&null===s&&_e.log('Event processor "'+o.id+'" dropped event'),z(s)?s.then((function(t){return Mt(e,t,n,r+1).then(i)})).then(null,a):Mt(e,s,n,r+1).then(i).then(null,a)}}))}function qt(e,t){if(void 0===t&&(t={}),t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||yt(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Qe()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=""+t.did),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}var Ht=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ft()}return(0,d.A)(e,[{key:"addScopeListener",value:function(e){this._scopeListeners.push(e)}},{key:"addEventProcessor",value:function(e){return this._eventProcessors.push(e),this}},{key:"setUser",value:function(e){return this._user=e||{},this._session&&qt(this._session,{user:e}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"getRequestSession",value:function(){return this._requestSession}},{key:"setRequestSession",value:function(e){return this._requestSession=e,this}},{key:"setTags",value:function(e){return this._tags=k(k({},this._tags),e),this._notifyScopeListeners(),this}},{key:"setTag",value:function(e,t){return this._tags=R(k({},this._tags),(0,c.A)({},e,t)),this._notifyScopeListeners(),this}},{key:"setExtras",value:function(e){return this._extra=k(k({},this._extra),e),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(e,t){return this._extra=R(k({},this._extra),(0,c.A)({},e,t)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(e){return this._fingerprint=e,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(e){return this._level=e,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(e){return this._transactionName=e,this._notifyScopeListeners(),this}},{key:"setContext",value:function(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}},{key:"setSpan",value:function(e){return this._span=e,this._notifyScopeListeners(),this}},{key:"getSpan",value:function(){return this._span}},{key:"getTransaction",value:function(){var e=this.getSpan();return e&&e.transaction}},{key:"setSession",value:function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=k(k({},this._tags),t._tags),this._extra=k(k({},this._extra),t._extra),this._contexts=k(k({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):H(t)&&(this._tags=k(k({},this._tags),t.tags),this._extra=k(k({},this._extra),t.extra),this._contexts=k(k({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ft(),this}},{key:"addBreadcrumb",value:function(e,t){var n="number"==typeof t?t:100;if(n<=0)return this;var r=k({timestamp:gt()},e),i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(e){return this._attachments.push(e),this}},{key:"getAttachments",value:function(){return this._attachments}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"applyToEvent",value:function(e,t,n){if(void 0===t&&(t={}),this._extra&&Object.keys(this._extra).length&&(e.extra=k(k({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=k(k({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=k(k({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=k(k({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=k({trace:this._span.getTraceContext()},e.contexts);var r=this._span.transaction;if(r){e.sdkProcessingMetadata=k({dynamicSamplingContext:r.getDynamicSamplingContext()},e.sdkProcessingMetadata);var i=r.name;i&&(e.tags=k({transaction:i},e.tags))}}this._applyFingerprint(e);var a=this._getBreadcrumbs(),o=[].concat((0,l.A)(e.breadcrumbs||[]),(0,l.A)(a));return e.breadcrumbs=o.length>0?o:void 0,e.sdkProcessingMetadata=R(k(k({},e.sdkProcessingMetadata),this._sdkProcessingMetadata),{propagationContext:this._propagationContext}),Mt([].concat((0,l.A)(n||[]),(0,l.A)(jt()),(0,l.A)(this._eventProcessors)),e,t)}},{key:"setSDKProcessingMetadata",value:function(e){return this._sdkProcessingMetadata=k(k({},this._sdkProcessingMetadata),e),this}},{key:"setPropagationContext",value:function(e){return this._propagationContext=e,this}},{key:"getPropagationContext",value:function(){return this._propagationContext}},{key:"_getBreadcrumbs",value:function(){return this._breadcrumbs}},{key:"_notifyScopeListeners",value:function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)}},{key:"_applyFingerprint",value:function(e){e.fingerprint=e.fingerprint?function(e){return Array.isArray(e)?e:[e]}(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}],[{key:"clone",value:function(t){var n=new e;return t&&(n._breadcrumbs=(0,l.A)(t._breadcrumbs),n._tags=k({},t._tags),n._extra=k({},t._extra),n._contexts=k({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,l.A)(t._eventProcessors),n._requestSession=t._requestSession,n._attachments=(0,l.A)(t._attachments),n._sdkProcessingMetadata=k({},t._sdkProcessingMetadata),n._propagationContext=k({},t._propagationContext)),n}}]),e}();function Ft(){return{traceId:Qe(),spanId:Qe().substring(16)}}var zt=4,Wt=function(){function e(e,t,n){void 0===t&&(t=new Ht),void 0===n&&(n=zt),this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}return(0,d.A)(e,[{key:"isOlderThan",value:function(e){return this._version<e}},{key:"bindClient",value:function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}},{key:"pushScope",value:function(){var e=Ht.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}},{key:"popScope",value:function(){return!(this.getStack().length<=1||!this.getStack().pop())}},{key:"withScope",value:function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getStack",value:function(){return this._stack}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"captureException",value:function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:Qe(),r=new Error("Sentry syntheticException");return this._withClient((function(i,a){i.captureException(e,R(k({originalException:e,syntheticException:r},t),{event_id:n}),a)})),n}},{key:"captureMessage",value:function(e,t,n){var r=this._lastEventId=n&&n.event_id?n.event_id:Qe(),i=new Error(e);return this._withClient((function(a,o){a.captureMessage(e,t,R(k({originalException:e,syntheticException:i},n),{event_id:r}),o)})),r}},{key:"captureEvent",value:function(e,t){var n=t&&t.event_id?t.event_id:Qe();return e.type||(this._lastEventId=n),this._withClient((function(r,i){r.captureEvent(e,R(k({},t),{event_id:n}),i)})),n}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addBreadcrumb",value:function(e,t){var n=this.getStackTop(),r=n.scope,i=n.client;if(i){var a=i.getOptions&&i.getOptions()||{},o=a.beforeBreadcrumb,s=void 0===o?null:o,u=a.maxBreadcrumbs,c=void 0===u?100:u;if(!(c<=0)){var d=gt(),p=k({timestamp:d},e),f=s?fe((function(){return s(p,t)})):p;null!==f&&(i.emit&&i.emit("beforeAddBreadcrumb",f,t),r.addBreadcrumb(f,c))}}}},{key:"setUser",value:function(e){this.getScope().setUser(e)}},{key:"setTags",value:function(e){this.getScope().setTags(e)}},{key:"setExtras",value:function(e){this.getScope().setExtras(e)}},{key:"setTag",value:function(e,t){this.getScope().setTag(e,t)}},{key:"setExtra",value:function(e,t){this.getScope().setExtra(e,t)}},{key:"setContext",value:function(e,t){this.getScope().setContext(e,t)}},{key:"configureScope",value:function(e){var t=this.getStackTop(),n=t.scope;t.client&&e(n)}},{key:"run",value:function(e){var t=Vt(this);try{e(this)}finally{Vt(t)}}},{key:"getIntegration",value:function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}}},{key:"startTransaction",value:function(e,t){var n=this._callExtensionMethod("startTransaction",e,t);if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&!n){var r=this.getClient();console.warn(r?"Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n":"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}},{key:"traceHeaders",value:function(){return this._callExtensionMethod("traceHeaders")}},{key:"captureSession",value:function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()}},{key:"endSession",value:function(){var e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){var n={};"ok"===e.status&&(n={status:"exited"}),qt(e,n)}(t),this._sendSessionUpdate(),e.setSession()}},{key:"startSession",value:function(e){var t=this.getStackTop(),n=t.scope,r=t.client,i=r&&r.getOptions()||{},a=i.release,o=i.environment,s=void 0===o?Pt:o,u=(re.navigator||{}).userAgent,c=function(e){var t=yt(),n={sid:Qe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return function(e){return xe({sid:""+e.sid,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?""+e.did:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)}};return e&&qt(n,e),n}(k(k({release:a,environment:s,user:n.getUser()},u&&{userAgent:u}),e)),d=n.getSession&&n.getSession();return d&&"ok"===d.status&&qt(d,{status:"exited"}),this.endSession(),n.setSession(c),c}},{key:"shouldSendDefaultPii",value:function(){var e=this.getClient(),t=e&&e.getOptions();return!(!t||!t.sendDefaultPii)}},{key:"_sendSessionUpdate",value:function(){var e=this.getStackTop(),t=e.scope,n=e.client,r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},{key:"_withClient",value:function(e){var t=this.getStackTop(),n=t.scope,r=t.client;r&&e(r,n)}},{key:"_callExtensionMethod",value:function(e){for(var t=Jt().__SENTRY__,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t&&t.extensions&&"function"==typeof t.extensions[e])return t.extensions[e].apply(this,r);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Extension method "+e+" couldn't be found, doing nothing.")}}]),e}();function Jt(){return re.__SENTRY__=re.__SENTRY__||{extensions:{},hub:void 0},re}function Vt(e){var t=Jt(),n=Xt(t);return Kt(t,e),n}function $t(){var e=Jt();if(e.__SENTRY__&&e.__SENTRY__.acs){var t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e){return void 0===e&&(e=Jt()),(!function(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}(e)||Xt(e).isOlderThan(zt))&&Kt(e,new Wt),Xt(e)}(e)}function Xt(e){return ae("hub",(function(){return new Wt}),e)}function Kt(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function Zt(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var t=$t().getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Qt(e){return(e||$t()).getScope().getTransaction()}var en=!1;function tn(){var e=Qt();if(e){var t="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Transaction: "+t+" -> Global error occured"),e.setStatus(t)}}tn.tag="sentry_tracingErrorCallback";var nn=function(){function e(e){void 0===e&&(e=1e3),this._maxlen=e,this.spans=[]}return(0,d.A)(e,[{key:"add",value:function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}]),e}(),rn=function(){function e(e){void 0===e&&(e={}),this.traceId=e.traceId||Qe(),this.spanId=e.spanId||Qe().substring(16),this.startTimestamp=e.startTimestamp||yt(),this.tags=e.tags||{},this.data=e.data||{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return(0,d.A)(e,[{key:"name",get:function(){return this.description||""},set:function(e){this.setName(e)}},{key:"startChild",value:function(t){var n=new e(R(k({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.transaction){var r="[Tracing] Starting '"+(t&&t.op||"< unknown op >")+"' span on transaction '"+(n.transaction.name||"< unknown name >")+"' ("+n.transaction.spanId+").";n.transaction.metadata.spanMetadata[n.spanId]={logMessage:r},_e.log(r)}return n}},{key:"setTag",value:function(e,t){return this.tags=R(k({},this.tags),(0,c.A)({},e,t)),this}},{key:"setData",value:function(e,t){return this.data=R(k({},this.data),(0,c.A)({},e,t)),this}},{key:"setStatus",value:function(e){return this.status=e,this}},{key:"setHttpStatus",value:function(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);var t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this}},{key:"setName",value:function(e){this.description=e}},{key:"isSuccess",value:function(){return"ok"===this.status}},{key:"finish",value:function(e){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){var t=this.transaction.metadata.spanMetadata[this.spanId].logMessage;t&&_e.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof e?e:yt()}},{key:"toTraceparent",value:function(){return Dt(this.traceId,this.spanId,this.sampled)}},{key:"toContext",value:function(){return xe({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}},{key:"updateWithContext",value:function(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}},{key:"getTraceContext",value:function(){return xe({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}},{key:"toJSON",value:function(){return xe({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}]),e}();function an(e,t,n){var r=t.getOptions(),i=(t.getDsn()||{}).publicKey,a=(n&&n.getUser()||{}).segment,o=xe({environment:r.environment||Pt,release:r.release,user_segment:a,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}var on=function(e){function t(t,n){var i;delete(i=e.call(this,t)||this).description,i._measurements={},i._contexts={},i._hub=n||$t(),i._name=t.name||"",i.metadata=R(k({source:"custom"},t.metadata),{spanMetadata:{}}),i._trimEnd=t.trimEnd,i.transaction=(0,r.A)(i);var a=i.metadata.dynamicSamplingContext;return a&&(i._frozenDynamicSamplingContext=k({},a)),i}return(0,p.A)(t,e),(0,d.A)(t,[{key:"name",get:function(){return this._name},set:function(e){this.setName(e)}},{key:"setName",value:function(e,t){void 0===t&&(t="custom"),this._name=e,this.metadata.source=t}},{key:"initSpanRecorder",value:function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new nn(e)),this.spanRecorder.add(this)}},{key:"setContext",value:function(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}},{key:"setMeasurement",value:function(e,t,n){void 0===n&&(n=""),this._measurements[e]={value:t,unit:n}}},{key:"setMetadata",value:function(e){this.metadata=k(k({},this.metadata),e)}},{key:"finish",value:function(e){var t=this._finishTransaction(e);if(t)return this._hub.captureEvent(t)}},{key:"toContext",value:function(){var e=(0,s.A)((0,u.A)(t.prototype),"toContext",this).call(this);return xe(R(k({},e),{name:this.name,trimEnd:this._trimEnd}))}},{key:"updateWithContext",value:function(e){return(0,s.A)((0,u.A)(t.prototype),"updateWithContext",this).call(this,e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}},{key:"getDynamicSamplingContext",value:function(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;var e=this._hub||$t(),t=e.getClient();if(!t)return{};var n=e.getScope(),r=an(this.traceId,t,n),i=this.metadata.sampleRate;void 0!==i&&(r.sample_rate=""+i);var a=this.metadata.source;return a&&"url"!==a&&(r.transaction=this.name),void 0!==this.sampled&&(r.sampled=String(this.sampled)),r}},{key:"setHub",value:function(e){this._hub=e}},{key:"_finishTransaction",value:function(e){var n=this;if(void 0===this.endTimestamp){this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),(0,s.A)((0,u.A)(t.prototype),"finish",this).call(this,e);var r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),!0!==this.sampled)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(r&&r.recordDroppedEvent("sample_rate","transaction"));var i=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==n&&e.endTimestamp})):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var a=this.metadata,o=k({contexts:R(k({},this._contexts),{trace:this.getTraceContext()}),spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:R(k({},a),{dynamicSamplingContext:this.getDynamicSamplingContext()})},a.source&&{transaction_info:{source:a.source}});return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),o}}}]),t}(rn),sn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},un=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],cn=function(e){function t(t,n,r,i){var a;return(a=e.call(this,i)||this)._pushActivity=t,a._popActivity=n,a.transactionSpanId=r,a}return(0,p.A)(t,e),(0,d.A)(t,[{key:"add",value:function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:yt(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),(0,s.A)((0,u.A)(t.prototype),"add",this).call(this,e)}}]),t}(nn),dn=function(e){function t(t,n,i,a,o,s){var u;return void 0===i&&(i=sn.idleTimeout),void 0===a&&(a=sn.finalTimeout),void 0===o&&(o=sn.heartbeatInterval),void 0===s&&(s=!1),(u=e.call(this,t,n)||this)._idleHub=n,u._idleTimeout=i,u._finalTimeout=a,u._heartbeatInterval=o,u._onScope=s,u.activities={},u._heartbeatCounter=0,u._finished=!1,u._idleTimeoutCanceledPermanently=!1,u._beforeFinishCallbacks=[],u._finishReason=un[4],s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("Setting idle transaction on scope. Span ID: "+u.spanId),n.configureScope((function(e){return e.setSpan((0,r.A)(u))}))),u._restartIdleTimeout(),setTimeout((function(){u._finished||(u.setStatus("deadline_exceeded"),u._finishReason=un[3],u.finish())}),u._finalTimeout),u}return(0,p.A)(t,e),(0,d.A)(t,[{key:"finish",value:function(e){var n=this;if(void 0===e&&(e=yt()),this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(var r,i=(0,v.A)(this._beforeFinishCallbacks);!(r=i()).done;)(0,r.value)(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===n.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var r=t.startTimestamp<e,i=(n._finalTimeout+n._idleTimeout)/1e3,a=t.endTimestamp-n.startTimestamp<i;if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var o=JSON.stringify(t,void 0,2);r?a||_e.log("[Tracing] discarding Span since it finished after Transaction final timeout",o):_e.log("[Tracing] discarding Span since it happened after Transaction was finished",o)}return r&&a})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] No active IdleTransaction");if(this._onScope){var a=this._idleHub.getScope();a.getTransaction()===this&&a.setSpan(void 0)}return(0,s.A)((0,u.A)(t.prototype),"finish",this).call(this,e)}},{key:"registerBeforeFinishCallback",value:function(e){this._beforeFinishCallbacks.push(e)}},{key:"initSpanRecorder",value:function(e){var t=this;this.spanRecorder||(this.spanRecorder=new cn((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}},{key:"cancelIdleTimeout",value:function(e,t){var n=(void 0===t?{restartOnChildSpanChange:!0}:t).restartOnChildSpanChange;this._idleTimeoutCanceledPermanently=!1===n,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=un[5],this.finish(e)))}},{key:"setFinishReason",value:function(e){this._finishReason=e}},{key:"_restartIdleTimeout",value:function(e){var t=this;this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((function(){!t._finished&&0===Object.keys(t.activities).length&&(t._finishReason=un[1],t.finish(e))}),this._idleTimeout)}},{key:"_pushActivity",value:function(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] new activities count",Object.keys(this.activities).length)}},{key:"_popActivity",value:function(e){if(this.activities[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] popActivity "+e),delete this.activities[e],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var t=yt();this._idleTimeoutCanceledPermanently?(this._finishReason=un[5],this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}},{key:"_beat",value:function(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=un[0],this.finish()):this._pingHeartbeat()}}},{key:"_pingHeartbeat",value:function(){var e=this;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){e._beat()}),this._heartbeatInterval)}}]),t}(on);function pn(){var e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function fn(e,t,n){return Zt(t)?void 0!==e.sampled?(e.setMetadata({sampleRate:Number(e.sampled)}),e):("function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})):(r=1,e.setMetadata({sampleRate:r})),function(e){return W(e)||"number"!=typeof e&&"boolean"!=typeof e?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify((0,h.A)(e))+"."),!1):!(e<0||e>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1)}(r)?r?(e.sampled=Math.random()<r,e.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),e)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var r}function ln(e,t){var n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",a=e.instrumenter||"sentry";i!==a&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.error("A transaction was started with instrumenter=`"+a+"`, but the SDK is configured with the `"+i+"` instrumenter.\nThe transaction will not be sampled. Please use the "+i+" instrumentation to start transactions."),e.sampled=!1);var o=new on(e,this);return(o=fn(o,r,k({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function hn(e,t,n,r,i,a,o){var s=e.getClient(),u=s&&s.getOptions()||{},c=new dn(t,e,n,r,o,i);return(c=fn(c,u,k({parentSampled:t.parentSampled,transactionContext:t},a))).sampled&&c.initSpanRecorder(u._experiments&&u._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",c),c}var _n=[];function vn(e,t,n){if(n[t.name]=t,-1===_n.indexOf(t.name)&&(t.setupOnce(Lt,$t),_n.push(t.name)),e.on&&"function"==typeof t.preprocessEvent){var r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(function(t,n){return r(t,n,e)}))}if(e.addEventProcessor&&"function"==typeof t.processEvent){var i=t.processEvent.bind(t),a=Object.assign((function(t,n){return i(t,n,e)}),{id:t.name});e.addEventProcessor(a)}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("Integration installed: "+t.name)}var mn=new WeakMap,gn="Not capturing exception because it's already been captured.",yn=function(){function e(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){var t="string"==typeof e?function(e){var t=ve.exec(e);if(t){var n=t.slice(1),r=(0,_.A)(n,6),i=r[0],a=r[1],o=r[2],s=void 0===o?"":o,u=r[3],c=r[4],d=void 0===c?"":c,p="",f=r[5],l=f.split("/");if(l.length>1&&(p=l.slice(0,-1).join("/"),f=l.pop()),f){var h=f.match(/^\d+/);h&&(f=h[0])}return ge({host:u,pass:s,path:p,projectId:f,port:d,protocol:i,publicKey:a})}console.error("Invalid Sentry Dsn: "+e)}(e):ge(e);if(t&&function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return!0;var t=e.port,n=e.projectId,r=e.protocol;return!(["protocol","publicKey","host","projectId"].find((function(t){return!e[t]&&(_e.error("Invalid Sentry Dsn: "+t+" missing"),!0)}))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(_e.error("Invalid Sentry Dsn: Invalid port "+t),1):(_e.error("Invalid Sentry Dsn: Invalid protocol "+r),1):(_e.error("Invalid Sentry Dsn: Invalid projectId "+n),1)))}(t))return t}(e.dsn):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("No DSN provided, client will not send events."),this._dsn){var t=function(e,t){void 0===t&&(t={});var n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||function(e){return""+function(e){var t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"}(e)+e.projectId+"/envelope/"}(e)+"?"+function(e,t){return function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(k({sentry_key:e.publicKey,sentry_version:"7"},t&&{sentry_client:t.name+"/"+t.version}))}(e,r)}(this._dsn,e);this._transport=e.transport(R(k({recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:t}))}}return(0,d.A)(e,[{key:"captureException",value:function(e,t,n){var r=this;if(!it(e)){var i=t&&t.event_id;return this._process(this.eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log(gn)}},{key:"captureMessage",value:function(e,t,n,r){var i=this,a=n&&n.event_id,o=q(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){a=e}))),a}},{key:"captureEvent",value:function(e,t,n){if(!(t&&t.originalException&&it(t.originalException))){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log(gn)}},{key:"captureSession",value:function(e){"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),qt(e,{init:!1}))}},{key:"getDsn",value:function(){return this._dsn}},{key:"getOptions",value:function(){return this._options}},{key:"getSdkMetadata",value:function(){return this._options._metadata}},{key:"getTransport",value:function(){return this._transport}},{key:"flush",value:function(e){var t=this._transport;return t?this._isClientDoneProcessing(e).then((function(n){return t.flush(e).then((function(e){return n&&e}))})):ut(!0)}},{key:"close",value:function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))}},{key:"getEventProcessors",value:function(){return this._eventProcessors}},{key:"addEventProcessor",value:function(e){this._eventProcessors.push(e)}},{key:"setupIntegrations",value:function(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(e,t){var n={};return t.forEach((function(t){t&&vn(e,t,n)})),n}(this,this._options.integrations),this._integrationsInitialized=!0)}},{key:"getIntegrationById",value:function(e){return this._integrations[e]}},{key:"getIntegration",value:function(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}}},{key:"addIntegration",value:function(e){vn(this,e,this._integrations)}},{key:"sendEvent",value:function(e,t){var n=this;void 0===t&&(t={}),this.emit("beforeSendEvent",e,t);for(var r,i=function(e,t,n,r){var i=Gt(n),a=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[].concat((0,l.A)(e.sdk.integrations||[]),(0,l.A)(t.integrations||[])),e.sdk.packages=[].concat((0,l.A)(e.sdk.packages||[]),(0,l.A)(t.packages||[])))}(e,n&&n.sdk);var o=function(e,t,n,r){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return k(k(k({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:me(r)}),i&&{trace:xe(k({},i))})}(e,i,r,t);return delete e.sdkProcessingMetadata,Nt(o,[[{type:a},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel),a=(0,v.A)(t.attachments||[]);!(r=a()).done;)i=At(i,It(r.value,this._options.transportOptions&&this._options.transportOptions.textEncoder));var o=this._sendEnvelope(i);o&&o.then((function(t){return n.emit("afterSendEvent",e,t)}),null)}},{key:"sendSession",value:function(e){var t=function(e,t,n,r){var i=Gt(n);return Nt(k(k({sent_at:(new Date).toISOString()},i&&{sdk:i}),!!r&&t&&{dsn:me(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}},{key:"recordDroppedEvent",value:function(e,t,n){if(this._options.sendClientReports){var r=e+":"+t;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log('Adding outcome: "'+r+'"'),this._outcomes[r]=this._outcomes[r]+1||1}}},{key:"on",value:function(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._hooks[e]&&this._hooks[e].forEach((function(e){return e.apply(void 0,n)}))}},{key:"_updateSessionFromEvent",value:function(e,t){var n=!1,r=!1,i=t.exception&&t.exception.values;if(i){r=!0;for(var a,o=(0,v.A)(i);!(a=o()).done;){var s=a.value.mechanism;if(s&&!1===s.handled){n=!0;break}}}var u="ok"===e.status;(u&&0===e.errors||u&&n)&&(qt(e,R(k({},n&&{status:"crashed"}),{errors:e.errors||Number(r||n)})),this.captureSession(e))}},{key:"_isClientDoneProcessing",value:function(e){var t=this;return new dt((function(n){var r=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))}},{key:"_isEnabled",value:function(){return!1!==this.getOptions().enabled&&void 0!==this._transport}},{key:"_prepareEvent",value:function(e,t,n){var r=this,i=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a.length>0&&(t.integrations=a),this.emit("preprocessEvent",e,t),function(e,t,n,r,i){var a=e.normalizeDepth,o=void 0===a?3:a,s=e.normalizeMaxBreadth,u=void 0===s?1e3:s,c=R(k({},t),{event_id:t.event_id||n.event_id||Qe(),timestamp:t.timestamp||gt()}),d=n.integrations||e.integrations.map((function(e){return e.name}));(function(e,t){var n=t.environment,r=t.release,i=t.dist,a=t.maxValueLength,o=void 0===a?250:a;"environment"in e||(e.environment="environment"in t?n:Pt),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=$(e.message,o));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=$(s.value,o));var u=e.request;u&&u.url&&(u.url=$(u.url,o))})(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[].concat((0,l.A)(e.sdk.integrations||[]),(0,l.A)(t)))}(c,d),void 0===t.type&&function(e,t){var n=re._sentryDebugIds;if(n){var r,i=mn.get(t);i?r=i:(r=new Map,mn.set(t,r));var a=Object.keys(n).reduce((function(e,i){var a,o=r.get(i);o?a=o:(a=t(i),r.set(i,a));for(var s=a.length-1;s>=0;s--){var u=a[s];if(u.filename){e[u.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((function(e){e.stacktrace.frames.forEach((function(e){e.filename&&(e.debug_id=a[e.filename])}))}))}catch(u){}}}(c,e.stackParser);var p=r;n.captureContext&&(p=Ht.clone(p).update(n.captureContext));var f=ut(c),h=i&&i.getEventProcessors?i.getEventProcessors():[];if(p){if(p.getAttachments){var _=[].concat((0,l.A)(n.attachments||[]),(0,l.A)(p.getAttachments()));_.length&&(n.attachments=_)}f=p.applyToEvent(c,n,h)}else f=Mt([].concat((0,l.A)(h),(0,l.A)(jt())),c,n);return f.then((function(e){return e&&function(e){var t={};try{e.exception.values.forEach((function(e){e.stacktrace.frames.forEach((function(e){e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(r){}if(0!==Object.keys(t).length){e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];var n=e.debug_meta.images;Object.keys(t).forEach((function(e){n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}}(e),"number"==typeof o&&o>0?function(e,t,n){if(!e)return null;var r=k(k(k(k(k({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return k(k({},e),e.data&&{data:at(e.data,t,n)})}))}),e.user&&{user:at(e.user,t,n)}),e.contexts&&{contexts:at(e.contexts,t,n)}),e.extra&&{extra:at(e.extra,t,n)});return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=at(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((function(e){return e.data&&(e.data=at(e.data,t,n)),e}))),r}(e,o,u):e}))}(i,e,t,n,this).then((function(e){if(null===e)return e;var t=(e.sdkProcessingMetadata||{}).propagationContext;if((!e.contexts||!e.contexts.trace)&&t){var i=t.traceId,a=t.spanId,o=t.parentSpanId,s=t.dsc;e.contexts=k({trace:{trace_id:i,span_id:a,parent_span_id:o}},e.contexts);var u=s||an(i,r,n);e.sdkProcessingMetadata=k({dynamicSamplingContext:u},e.sdkProcessingMetadata)}return e}))}},{key:"_captureEvent",value:function(e,t,n){return void 0===t&&(t={}),this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var t=e;"log"===t.logLevel?_e.log(t.message):_e.warn(t)}}))}},{key:"_processEvent",value:function(e,t,n){var r=this,i=this.getOptions(),a=i.sampleRate,o=Sn(e),s=En(e),u=e.type||"error",c="before send for type `"+u+"`";if(s&&"number"==typeof a&&Math.random()>a)return this.recordDroppedEvent("sample_rate","error",e),ct(new ye("Discarding event because it's not included in the random sample (sampling rate = "+a+")","log"));var d="replay_event"===u?"replay":u;return this._prepareEvent(e,t,n).then((function(n){if(null===n)throw r.recordDroppedEvent("event_processor",d,e),new ye("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;var a=function(e,t,n){var r=e.beforeSend,i=e.beforeSendTransaction;return En(t)&&r?r(t,n):Sn(t)&&i?i(t,n):t}(i,n,t);return function(e,t){var n=t+" must return `null` or a valid event.";if(z(e))return e.then((function(e){if(!H(e)&&null!==e)throw new ye(n);return e}),(function(e){throw new ye(t+" rejected with "+e)}));if(!H(e)&&null!==e)throw new ye(n);return e}(a,c)})).then((function(i){if(null===i)throw r.recordDroppedEvent("before_send",d,e),new ye(c+" returned `null`, will not send event.","log");var a=n&&n.getSession();!o&&a&&r._updateSessionFromEvent(a,i);var s=i.transaction_info;return o&&s&&i.transaction!==e.transaction&&(i.transaction_info=R(k({},s),{source:"custom"})),r.sendEvent(i,t),i})).then(null,(function(e){throw e instanceof ye?e:(r.captureException(e,{data:{__sentry__:!0},originalException:e}),new ye("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e))}))}},{key:"_process",value:function(e){var t=this;this._numProcessing++,e.then((function(e){return t._numProcessing--,e}),(function(e){return t._numProcessing--,e}))}},{key:"_sendEnvelope",value:function(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(function(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.error("Error while sending event:",e)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.error("Transport disabled")}},{key:"_clearOutcomes",value:function(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map((function(t){var n=t.split(":"),r=(0,_.A)(n,2);return{reason:r[0],category:r[1],quantity:e[t]}}))}}]),e}();function En(e){return void 0===e.type}function Sn(e){return"transaction"===e.type}var Tn=30;function bn(e,t,n){void 0===n&&(n=function(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return ct(new ye("Not adding Promise because buffer limit was reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(e){return new dt((function(n,r){var i=t.length;if(!i)return n(!0);var a=setTimeout((function(){e&&e>0&&n(!1)}),e);t.forEach((function(e){ut(e).then((function(){--i||(clearTimeout(a),n(!0))}),r)}))}))}}}(e.bufferSize||Tn));var r={};function i(i){var a=[];if(Ct(i,(function(t,n){var i=Yt(n);if(function(e,t,n){return void 0===n&&(n=Date.now()),function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){var o=kn(t,n);e.recordDroppedEvent("ratelimit_backoff",i,o)}else a.push(t)})),0===a.length)return ut();var o=Nt(i[0],a),s=function(t){Ct(o,(function(n,r){var i=kn(n,r);e.recordDroppedEvent(t,Yt(r),i)}))};return n.add((function(){return t({body:Ut(o,e.textEncoder)}).then((function(e){return void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Sentry responded with status code "+e.statusCode+" to sent event."),r=function(e,t,n){var r=t.statusCode,i=t.headers;void 0===n&&(n=Date.now());var a=k({},e),o=i&&i["x-sentry-rate-limits"],s=i&&i["retry-after"];if(o)for(var u,c=(0,v.A)(o.trim().split(","));!(u=c()).done;){var d=u.value.split(":",2),p=(0,_.A)(d,2),f=p[0],l=p[1],h=parseInt(f,10),m=1e3*(isNaN(h)?60:h);if(l)for(var g,y=(0,v.A)(l.split(";"));!(g=y()).done;)a[g.value]=n+m;else a.all=n+m}else s?a.all=n+function(e,t){void 0===t&&(t=Date.now());var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}(s,n):429===r&&(a.all=n+6e4);return a}(r,e),e}),(function(e){throw s("network_error"),e}))})).then((function(e){return e}),(function(e){if(e instanceof ye)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.error("Skipped sending event because buffer is full."),s("queue_overflow"),ut();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:function(e){return n.drain(e)}}}function kn(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}var Rn="7.73.0",wn={};x(wn,{FunctionToString:function(){return Dn},InboundFilters:function(){return Cn}});var xn,Dn=function(){function e(){this.name=e.id}return(0,d.A)(e,[{key:"setupOnce",value:function(){xn=Function.prototype.toString;try{Function.prototype.toString=function(){for(var e=be(this)||this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xn.apply(e,n)}}catch(he){}}}],[{key:"__initStatic",value:function(){this.id="FunctionToString"}}]),e}();Dn.__initStatic();var Nn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],An=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/],Cn=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._options=t}return(0,d.A)(e,[{key:"setupOnce",value:function(e,t){}},{key:"processEvent",value:function(e,t,n){var r=n.getOptions(),i=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),{allowUrls:[].concat((0,l.A)(e.allowUrls||[]),(0,l.A)(t.allowUrls||[])),denyUrls:[].concat((0,l.A)(e.denyUrls||[]),(0,l.A)(t.denyUrls||[])),ignoreErrors:[].concat((0,l.A)(e.ignoreErrors||[]),(0,l.A)(t.ignoreErrors||[]),(0,l.A)(e.disableErrorDefaults?[]:Nn)),ignoreTransactions:[].concat((0,l.A)(e.ignoreTransactions||[]),(0,l.A)(t.ignoreTransactions||[]),(0,l.A)(e.disableTransactionDefaults?[]:An)),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(this._options,r);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Event dropped due to being internal Sentry Error.\nEvent: "+tt(e)),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){var t,r=[];e.message&&r.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(n){}return t&&t.value&&(r.push(t.value),t.type&&r.push(t.type+": "+t.value)),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&0===r.length&&_e.error("Could not extract message for event "+tt(e)),r}(e).some((function(e){return K(e,t)}))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+tt(e)),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;var n=e.transaction;return!!n&&K(n,t)}(e,t.ignoreTransactions)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: "+tt(e)),!0):function(e,t){if(!t||!t.length)return!1;var n=Bn(e);return!!n&&K(n,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+tt(e)+".\nUrl: "+Bn(e)),!0):!function(e,t){if(!t||!t.length)return!0;var n=Bn(e);return!n||K(n,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+tt(e)+".\nUrl: "+Bn(e)),!0)}(e,i)?null:e}}],[{key:"__initStatic",value:function(){this.id="InboundFilters"}}]),e}();function Bn(e){try{var t;try{t=e.exception.values[0].stacktrace.frames}catch(n){}return t?function(e){void 0===e&&(e=[]);for(var t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.error("Cannot extract url for event "+tt(e)),null}}Cn.__initStatic();var Un=re,In=0;function On(){return In>0}function Yn(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if(be(e))return e}catch(r){return e}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(e){return Yn(e,t)}));return e.apply(this,i)}catch(i){throw In++,setTimeout((function(){In--})),$t().withScope((function(e){e.addEventProcessor((function(e){return t.mechanism&&(nt(e,void 0,void 0),rt(e,t.mechanism)),e.extra=R(k({},e.extra),{arguments:r}),e})),function(e,t){$t().captureException(e,{captureContext:t})}(i)})),i}};try{for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])}catch(r){}Te(i,e),Se(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(r){}return i}function Gn(e,t){var n=jn(e,t),r={type:t&&t.name,value:Mn(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Pn(e,t){return{exception:{values:[Gn(e,t)]}}}function jn(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Ln.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(i){}return[]}var Ln=/Minified React error #\d+;/i;function Mn(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function qn(e,t,n,r,i){var a;if(j(t)&&t.error)return Pn(e,t.error);if(L(t)||function(e){return P(e,"DOMException")}(t)){var o=t;if("stack"in t)a=Pn(e,t);else{var s=o.name||(L(o)?"DOMError":"DOMException"),u=o.message?s+": "+o.message:s;nt(a=Hn(e,u,n,r),u)}return"code"in o&&(a.tags=R(k({},a.tags),{"DOMException.code":""+o.code})),a}return G(t)?Pn(e,t):H(t)||F(t)?(a=function(e,t,n,r){var i=$t().getClient(),a=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:F(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Fn(t,{isUnhandledRejection:r})}]},extra:{__serialized__:ot(t,a)}};if(n){var s=jn(e,n);s.length&&(o.exception.values[0].stacktrace={frames:s})}return o}(e,t,n,i),rt(a,{synthetic:!0}),a):(nt(a=Hn(e,t,n,r),""+t,void 0),rt(a,{synthetic:!0}),a)}function Hn(e,t,n,r){var i={message:t};if(r&&n){var a=jn(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}return i}function Fn(e,t){var n=t.isUnhandledRejection,r=function(e,t){void 0===t&&(t=40);var n=Object.keys(ke(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return $(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:$(i,t)}return""}(e),i=n?"promise rejection":"exception";return j(e)?"Event `ErrorEvent` captured as "+i+" with message `"+e.message+"`":F(e)?"Event `"+function(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}(e)+"` (type="+e.type+") captured as "+i:"Object captured as "+i+" with keys: "+r}var zn,Wn=function(e){function t(t){var n,r=Un.SENTRY_SDK_SOURCE||"npm";return t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:r+":@sentry/browser",version:Rn}],version:Rn},n=e.call(this,t)||this,t.sendClientReports&&Un.document&&Un.document.addEventListener("visibilitychange",(function(){"hidden"===Un.document.visibilityState&&n._flushOutcomes()})),n}return(0,p.A)(t,e),(0,d.A)(t,[{key:"eventFromException",value:function(e,t){return function(e,t,n,r){var i=qn(e,t,n&&n.syntheticException||void 0,r);return rt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),ut(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}},{key:"eventFromMessage",value:function(e,t,n){return void 0===t&&(t="info"),function(e,t,n,r,i){void 0===n&&(n="info");var a=Hn(e,t,r&&r.syntheticException||void 0,i);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),ut(a)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}},{key:"captureUserFeedback",value:function(e){if(this._isEnabled()){var t=function(e,t){var n=t.metadata,r=t.tunnel,i=t.dsn,a=k(k({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}}),!!r&&!!i&&{dsn:me(i)}),o=function(e){return[{type:"user_report"},e]}(e);return Nt(a,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("SDK not enabled, will not capture user feedback.")}},{key:"_prepareEvent",value:function(e,n,r){return e.platform=e.platform||"javascript",(0,s.A)((0,u.A)(t.prototype),"_prepareEvent",this).call(this,e,n,r)}},{key:"_flushOutcomes",value:function(){var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("Sending outcomes:",e);var t=function(e,t,n){return Nt(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:gt(),discarded_events:e}]])}(e,this._options.tunnel&&me(this._dsn));this._sendEnvelope(t)}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("No outcomes to send")}}]),t}(yn);function Jn(e,t){void 0===t&&(t=function(){if(zn)return zn;if(Ie(Un.fetch))return zn=Un.fetch.bind(Un);var e=Un.document,t=Un.fetch;if(e&&"function"==typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return zn=t.bind(Un)}());var n=0,r=0;return bn(e,(function(i){var a=i.body.length;n+=a,r++;var o=k({body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);try{return t(e.url,o).then((function(e){return n-=a,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}}))}catch(s){return zn=void 0,n-=a,r--,ct(s)}}))}var Vn=4;function $n(e){return bn(e,(function(t){return new dt((function(n,r){var i=new XMLHttpRequest;for(var a in i.onerror=r,i.onreadystatechange=function(){i.readyState===Vn&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,a)&&i.setRequestHeader(a,e.headers[a]);i.send(t.body)}))}))}var Xn="?";function Kn(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var Zn=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Qn=/\((\S*)(?::(\d+))(?::(\d+))\)/,er=[30,function(e){var t=Zn.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=Qn.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var r=sr(t[1]||Xn,t[2]),i=(0,_.A)(r,2),a=i[0];return Kn(i[1],a,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],tr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,nr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,rr=[50,function(e){var t=tr.exec(e);if(t){var n,r;if(t[3]&&t[3].indexOf(" > eval")>-1){var i=nr.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}var a=t[3],o=t[1]||Xn;return n=sr(o,a),o=(r=(0,_.A)(n,2))[0],Kn(a=r[1],o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],ir=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ar=[40,function(e){var t=ir.exec(e);return t?Kn(t[2],t[1]||Xn,+t[3],t[4]?+t[4]:void 0):void 0}],or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e,t){void 0===t&&(t=0);for(var n=[],i=e.split("\n"),a=t;a<i.length;a++){var o=i[a];if(!(o.length>1024)){var s=Ne.test(o)?o.replace(Ne,"$1"):o;if(!s.match(/\S*Error: /)){for(var u,c=(0,v.A)(r);!(u=c()).done;){var d=(0,u.value)(s);if(d){n.push(d);break}}if(n.length>=50)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Ae.test(t[t.length-1].function||"")&&(t.pop(),Ae.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map((function(e){return R(k({},e),{filename:e.filename||t[t.length-1].filename,function:e.function||"?"})}))}(n)}}.apply(void 0,[er,rr,ar]),sr=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Xn,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},ur=function(){function e(t){this.name=e.id,this._options=k({onerror:!0,onunhandledrejection:!0},t),this._installFunc={onerror:cr,onunhandledrejection:dr}}return(0,d.A)(e,[{key:"setupOnce",value:function(){Error.stackTraceLimit=50;var e=this._options;for(var t in e){var n=this._installFunc[t];n&&e[t]&&(fr(t),n(),this._installFunc[t]=void 0)}}}],[{key:"__initStatic",value:function(){this.id="GlobalHandlers"}}]),e}();function cr(){qe("error",(function(e){var t=hr(),n=(0,_.A)(t,3),r=n[0],i=n[1],a=n[2];if(r.getIntegration(ur)){var o=e.msg,s=e.url,u=e.line,c=e.column,d=e.error;if(!(On()||d&&d.__sentry_own_request__)){var p=void 0===d&&M(o)?function(e,t,n,r){var i=j(e)?e.message:e,a="Error",o=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return o&&(a=o[1],i=o[2]),pr({exception:{values:[{type:a,value:i}]}},t,n,r)}(o,s,u,c):pr(qn(i,d||o,void 0,a,!1),s,u,c);p.level="error",lr(r,d,p,"onerror")}}}))}function dr(){qe("unhandledrejection",(function(e){var t=hr(),n=(0,_.A)(t,3),r=n[0],i=n[1],a=n[2];if(r.getIntegration(ur)){var o=e;try{"reason"in e?o=e.reason:"detail"in e&&"reason"in e.detail&&(o=e.detail.reason)}catch(u){}if(On()||o&&o.__sentry_own_request__)return!0;var s=q(o)?function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}}(o):qn(i,o,void 0,a,!0);s.level="error",lr(r,o,s,"onunhandledrejection")}}))}function pr(e,t,n,r){var i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,p=M(t)&&t.length>0?t:function(){try{return oe.document.location.href}catch(e){return""}}();return 0===u.length&&u.push({colno:c,filename:p,function:"?",in_app:!0,lineno:d}),e}function fr(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("Global Handler attached: "+e)}function lr(e,t,n,r){rt(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function hr(){var e=$t(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:function(){return[]},attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}ur.__initStatic();var _r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vr=function(){function e(t){this.name=e.id,this._options=k({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return(0,d.A)(e,[{key:"setupOnce",value:function(){this._options.setTimeout&&Ee(Un,"setTimeout",mr),this._options.setInterval&&Ee(Un,"setInterval",mr),this._options.requestAnimationFrame&&Ee(Un,"requestAnimationFrame",gr),this._options.XMLHttpRequest&&"XMLHttpRequest"in Un&&Ee(XMLHttpRequest.prototype,"send",yr);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:_r).forEach(Er)}}],[{key:"__initStatic",value:function(){this.id="TryCatch"}}]),e}();function mr(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return n[0]=Yn(i,{mechanism:{data:{function:Be(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function gr(e){return function(t){return e.apply(this,[Yn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Be(e)},handled:!1,type:"instrument"}})])}}function yr(e){return function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return["onload","onerror","onprogress","onreadystatechange"].forEach((function(e){e in t&&"function"==typeof t[e]&&Ee(t,e,(function(t){var n={mechanism:{data:{function:e,handler:Be(t)},handled:!1,type:"instrument"}},r=be(t);return r&&(n.mechanism.data.handler=Be(r)),Yn(t,n)}))})),e.apply(this,r)}}function Er(e){var t=Un,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ee(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=Yn(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Be(r),target:e},handled:!1,type:"instrument"}}))}catch(a){}return t.apply(this,[n,Yn(r,{mechanism:{data:{function:"addEventListener",handler:Be(r),target:e},handled:!1,type:"instrument"}}),i])}})),Ee(n,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{var a=i&&i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(a){}return e.call(this,t,i,r)}})))}vr.__initStatic();var Sr=1024,Tr=function(){function e(t){this.name=e.id,this.options=k({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return(0,d.A)(e,[{key:"setupOnce",value:function(){if(this.options.console&&qe("console",kr),this.options.dom&&qe("dom",function(e){return function(t){var n,r="object"==(0,h.A)(e)?e.serializeAttribute:void 0,i="object"==(0,h.A)(e)&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>Sr&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("`dom.maxStringLength` cannot exceed 1024, but a value of "+i+" was configured. Sentry will use "+Sr+" instead."),i=Sr),"string"==typeof r&&(r=[r]);try{var a=t.event;n=function(e){return!!e&&!!e.target}(a)?ue(a.target,{keyAttrs:r,maxStringLength:i}):ue(a,{keyAttrs:r,maxStringLength:i})}catch(a){n="<unknown>"}0!==n.length&&$t().addBreadcrumb({category:"ui."+t.name,message:n},{event:t.event,name:t.name,global:t.global})}}(this.options.dom)),this.options.xhr&&qe("xhr",Rr),this.options.fetch&&qe("fetch",wr),this.options.history&&qe("history",xr),this.options.sentry){var e=$t().getClient();e&&e.on&&e.on("beforeSendEvent",br)}}}],[{key:"__initStatic",value:function(){this.id="Breadcrumbs"}}]),e}();function br(e){$t().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:tt(e)},{event:e})}function kr(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:lt(e.level),message:X(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(X(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}$t().addBreadcrumb(t,{input:e.args,level:e.level})}function Rr(e){var t=e.startTimestamp,n=e.endTimestamp,r=e.xhr[Pe];if(t&&n&&r){var i=r.method,a=r.url,o=r.status_code,s=r.body,u={method:i,url:a,status_code:o},c={xhr:e.xhr,input:s,startTimestamp:t,endTimestamp:n};$t().addBreadcrumb({category:"xhr",data:u,type:"http"},c)}}function wr(e){var t=e.startTimestamp,n=e.endTimestamp;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){var r=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};$t().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{var a=R(k({},e.fetchData),{status_code:e.response&&e.response.status}),o={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};$t().addBreadcrumb({category:"fetch",data:a,type:"http"},o)}}function xr(e){var t=e.from,n=e.to,r=pt(Un.location.href),i=pt(t),a=pt(n);i.path||(i=r),r.protocol===a.protocol&&r.host===a.host&&(n=a.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),$t().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}Tr.__initStatic();var Dr=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return(0,d.A)(e,[{key:"setupOnce",value:function(){}},{key:"preprocessEvent",value:function(e,t,n){var r=n.getOptions();Z(Gn,r.stackParser,r.maxValueLength,this._key,this._limit,e,t)}}],[{key:"__initStatic",value:function(){this.id="LinkedErrors"}}]),e}();Dr.__initStatic();var Nr=function(){function e(){this.name=e.id}return(0,d.A)(e,[{key:"setupOnce",value:function(){}},{key:"preprocessEvent",value:function(e){if(Un.navigator||Un.location||Un.document){var t=e.request&&e.request.url||Un.location&&Un.location.href,n=(Un.document||{}).referrer,r=(Un.navigator||{}).userAgent,i=k(k(k({},e.request&&e.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),a=R(k(k({},e.request),t&&{url:t}),{headers:i});e.request=a}}}],[{key:"__initStatic",value:function(){this.id="HttpContext"}}]),e}();Nr.__initStatic();var Ar=function(){function e(){this.name=e.id}return(0,d.A)(e,[{key:"setupOnce",value:function(e,t){}},{key:"processEvent",value:function(e){if(e.type)return e;try{if(function(e,t){return!(!t||!function(e,t){var n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Br(e,t)||!Cr(e,t))}(e,t)&&!function(e,t){var n=Ur(t),r=Ur(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&Br(e,t)&&Cr(e,t))}(e,t))}(e,this._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return this._previousEvent=e}}],[{key:"__initStatic",value:function(){this.id="Dedupe"}}]),e}();function Cr(e,t){var n=Ir(e),r=Ir(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var a=r[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function Br(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch(i){return!1}}function Ur(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Ir(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}Ar.__initStatic();var Or={};x(Or,{Breadcrumbs:function(){return Tr},Dedupe:function(){return Ar},GlobalHandlers:function(){return ur},HttpContext:function(){return Nr},LinkedErrors:function(){return Dr},TryCatch:function(){return vr}});var Yr=re,Gr=function(e,t,n){var r,i;return function(a){t.value>=0&&(a||n)&&((i=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=i,e(t))}},Pr=function(){return Yr.__WEB_VITALS_POLYFILL__?Yr.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||function(){var e=Yr.performance.timing,t=Yr.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(var r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n}()):Yr.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},jr=function(){var e=Pr();return e&&e.activationStart||0},Lr=function(e,t){var n=Pr(),r="navigate";return n&&(r=Yr.document.prerendering||jr()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Mr=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},qr=function(e,t){var n=function n(r){("pagehide"===r.type||"hidden"===Yr.document.visibilityState)&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Hr=-1,Fr=function(){return Hr<0&&(Hr="hidden"!==Yr.document.visibilityState||Yr.document.prerendering?1/0:0,qr((function(e){var t=e.timeStamp;Hr=t}),!0)),{get firstHiddenTime(){return Hr}}},zr={};function Wr(e){return"number"==typeof e&&isFinite(e)}function Jr(e,t){var n=t,r=n.startTimestamp,i=w(n,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(k({startTimestamp:r},i))}function Vr(e){return e/1e3}function $r(){return Yr&&Yr.addEventListener&&Yr.performance}var Xr,Kr,Zr=0,Qr={};function ei(){var e=$r();if(e&&Et){e.mark&&Yr.performance.mark("sentry-tracing-init"),function(e){var t,n=Fr(),r=Lr("FID"),i=function(e){e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),t(!0))},a=function(e){e.forEach(i)},o=Mr("first-input",a);t=Gr(e,r),o&&qr((function(){a(o.takeRecords()),o.disconnect()}),!0)}((function(e){var t=e.entries.pop();if(t){var n=Vr(Et),r=Vr(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding FID"),Qr.fid={value:e.value,unit:"millisecond"},Qr["mark.fid"]={value:n+r,unit:"second"}}}));var t=function(e){var t,n=Lr("CLS",0),r=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var a=i[0],o=i[i.length-1];r&&0!==i.length&&e.startTime-o.startTime<1e3&&e.startTime-a.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>n.value&&(n.value=r,n.entries=i,t&&t())}}))},o=Mr("layout-shift",a);if(o){t=Gr(e,n);var s=function(){a(o.takeRecords()),t(!0)};return qr(s),s}}((function(e){var t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding CLS"),Qr.cls={value:e.value,unit:""},Kr=t)})),n=function(e){var t,n=Fr(),r=Lr("LCP"),i=function(e){var i=e[e.length-1];if(i){var a=Math.max(i.startTime-jr(),0);a<n.firstHiddenTime&&(r.value=a,r.entries=[i],t())}},a=Mr("largest-contentful-paint",i);if(a){t=Gr(e,r);var o=function(){zr[r.id]||(i(a.takeRecords()),a.disconnect(),zr[r.id]=!0,t(!0))};return["keydown","click"].forEach((function(e){addEventListener(e,o,{once:!0,capture:!0})})),qr(o,!0),o}}((function(e){var t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding LCP"),Qr.lcp={value:e.value,unit:"millisecond"},Xr=t)}));return function(){t&&t(),n&&n()}}return function(){}}function ti(e,t,n,r,i,a){var o=a?t[a]:t[n+"End"],s=t[n+"Start"];!s||!o||Jr(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+Vr(s),endTimestamp:r+Vr(o)})}var ni=["localhost",/^\/(?!\/)/],ri={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:ni,tracePropagationTargets:ni};function ii(e){var t=e.data.url,n=new PerformanceObserver((function(r){r.getEntries().forEach((function(r){(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)})(r)&&r.name.endsWith(t)&&(function(e){var t=function(e){for(var t,n="unknown",r="unknown",i="",a=(0,v.A)(e);!(t=a()).done;){var o=t.value;if("/"===o){var s=e.split("/"),u=(0,_.A)(s,2);n=u[0],r=u[1];break}if(!isNaN(Number(o))){n="h"===i?"http":i,r=e.split(i)[1];break}i+=o}return i===e&&(n=i),{name:n,version:r}}(e.nextHopProtocol),n=t.name,r=t.version,i=[];return i.push(["network.protocol.version",r],["network.protocol.name",n]),Et?[].concat(i,[["http.request.redirect_start",ai(e.redirectStart)],["http.request.fetch_start",ai(e.fetchStart)],["http.request.domain_lookup_start",ai(e.domainLookupStart)],["http.request.domain_lookup_end",ai(e.domainLookupEnd)],["http.request.connect_start",ai(e.connectStart)],["http.request.secure_connection_start",ai(e.secureConnectionStart)],["http.request.connection_end",ai(e.connectEnd)],["http.request.request_start",ai(e.requestStart)],["http.request.response_start",ai(e.responseStart)],["http.request.response_end",ai(e.responseEnd)]]):i}(r).forEach((function(t){return e.setData.apply(e,(0,l.A)(t))})),n.disconnect())}))}));n.observe({entryTypes:["resource"]})}function ai(e){return void 0===e&&(e=0),((Et||performance.timeOrigin)+e)/1e3}function oi(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(St,n)}catch(r){}}var si=k(R(k({},sn),{markBackgroundTransactions:!0,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),Yr&&Yr.location){var r,i=Yr.location.href;t&&(r=e({name:Yr.location.pathname,startTimestamp:Et?Et/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&qe("history",(function(t){var n=t.to,a=t.from;void 0===a&&i&&-1!==i.indexOf(n)?i=void 0:a!==n&&(i=void 0,r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:Yr.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{}}),ri),ui=function(){function e(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,function(){var e=Jt();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=ln),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=pn),en||(en=!0,qe("error",tn),qe("unhandledrejection",tn)))}(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options=k(k({},si),e),void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=ei(),this.options.enableLongTask&&Mr("longtask",(function(e){for(var t,n=(0,v.A)(e);!(t=n()).done;){var r=t.value,i=Qt();if(!i)return;var a=Vr(Et+r.startTime),o=Vr(r.duration);i.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:a,endTimestamp:a+o})}})),this.options._experiments.enableInteractions&&Mr("event",(function(e){for(var t,n=(0,v.A)(e);!(t=n()).done;){var r=t.value,i=Qt();if(!i)return;if("click"===r.name){var a=Vr(Et+r.startTime),o=Vr(r.duration);i.startChild({description:ue(r.target),op:"ui.interaction."+r.name,origin:"auto.ui.browser.metrics",startTimestamp:a,endTimestamp:a+o})}}}),{durationThreshold:0})}return(0,d.A)(e,[{key:"setupOnce",value:function(e,t){var n=this;this._getCurrentHub=t;var r=t().getClient(),i=r&&r.getOptions(),a=this.options,o=a.routingInstrumentation,s=a.startTransactionOnLocationChange,u=a.startTransactionOnPageLoad,c=a.markBackgroundTransactions,d=a.traceFetch,p=a.traceXHR,f=a.shouldCreateSpanForRequest,h=a.enableHTTPTimings,_=a._experiments,v=i&&i.tracePropagationTargets,m=v||this.options.tracePropagationTargets;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&v&&_e.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((function(e){var r=n._createRouteTransaction(e);return n.options._experiments.onStartRouteTransaction&&n.options._experiments.onStartRouteTransaction(r,e,t),r}),u,s),c&&(Yr&&Yr.document?Yr.document.addEventListener("visibilitychange",(function(){var e=Qt();if(Yr.document.hidden&&e){var t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Transaction: "+t+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("[Tracing] Could not set up background tab detection due to lack of global document")),_.enableInteractions&&this._registerInteractionListener(),function(e){var t=k({traceFetch:ri.traceFetch,traceXHR:ri.traceXHR},e),n=t.traceFetch,r=t.traceXHR,i=t.tracePropagationTargets,a=t.tracingOrigins,o=t.shouldCreateSpanForRequest,s=t.enableHTTPTimings,u="function"==typeof o?o:function(e){return!0},c=function(e){return function(e,t){return K(e,t||ni)}(e,i||a)},d={};n&&qe("fetch",(function(e){var t=function(e,t,n,r){if(Zt()&&e.fetchData){var i=t(e.fetchData.url);if(!e.endTimestamp||!i){var a=$t(),o=a.getScope(),s=a.getClient(),u=o.getSpan(),c=e.fetchData,d=c.method,p=c.url,f=i&&u?u.startChild({data:{url:p,type:"fetch","http.method":d},description:d+" "+p,op:"http.client",origin:"auto.http.browser"}):void 0;if(f&&(e.fetchData.__span=f.spanId,r[f.spanId]=f),n(e.fetchData.url)&&s){var h=e.args[0];e.args[1]=e.args[1]||{};var _=e.args[1];_.headers=function(e,t,n,r,i){var a=i||n.getSpan(),o=a&&a.transaction,s=n.getPropagationContext(),u=s.traceId,c=s.sampled,d=s.dsc,p=a?a.toTraceparent():Dt(u,void 0,c),f=Rt(o?o.getDynamicSamplingContext():d||an(u,t,n)),h="undefined"!=typeof Request&&J(e,Request)?e.headers:r.headers;if(h){if("undefined"!=typeof Headers&&J(h,Headers)){var _=new Headers(h);return _.append("sentry-trace",p),f&&_.append(St,f),_}if(Array.isArray(h)){var v=[].concat((0,l.A)(h),[["sentry-trace",p]]);return f&&v.push([St,f]),v}var m="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(m)?g.push.apply(g,(0,l.A)(m)):m&&g.push(m),f&&g.push(f),R(k({},h),{"sentry-trace":p,baggage:g.length>0?g.join(","):void 0})}return{"sentry-trace":p,baggage:f}}(h,s,o,_,f)}return f}var v=e.fetchData.__span;if(!v)return;var m=r[v];if(m){if(e.response){m.setHttpStatus(e.response.status);var g=e.response&&e.response.headers&&e.response.headers.get("content-length"),y=parseInt(g);y>0&&m.setData("http.response_content_length",y)}else e.error&&m.setStatus("internal_error");m.finish(),delete r[v]}}}(e,u,c,d);s&&t&&ii(t)})),r&&qe("xhr",(function(e){var t=function(e,t,n,r){var i=e.xhr,a=i&&i[Pe];if(!(!Zt()||i&&i.__sentry_own_request__)&&i&&a){var o=t(a.url);if(!e.endTimestamp||!o){var s=$t(),u=s.getScope(),c=u.getSpan(),d=o&&c?c.startChild({data:R(k({},a.data),{type:"xhr","http.method":a.method,url:a.url}),description:a.method+" "+a.url,op:"http.client",origin:"auto.http.browser"}):void 0;if(d&&(i.__sentry_xhr_span_id__=d.spanId,r[i.__sentry_xhr_span_id__]=d),i.setRequestHeader&&n(a.url))if(d){var p=d&&d.transaction,f=Rt(p&&p.getDynamicSamplingContext());oi(i,d.toTraceparent(),f)}else{var l=s.getClient(),h=u.getPropagationContext(),_=h.traceId,v=h.sampled,m=h.dsc;oi(i,Dt(_,void 0,v),Rt(m||(l?an(_,l,u):void 0)))}return d}var g=i.__sentry_xhr_span_id__;if(!g)return;var y=r[g];y&&(y.setHttpStatus(a.status_code),y.finish(),delete r[g])}}(e,u,c,d);s&&t&&ii(t)}))}({traceFetch:d,traceXHR:p,tracePropagationTargets:m,shouldCreateSpanForRequest:f,enableHTTPTimings:h})}},{key:"_createRouteTransaction",value:function(e){var t=this;if(this._getCurrentHub){var n=this._getCurrentHub(),r=this.options,i=r.beforeNavigate,a=r.idleTimeout,o=r.finalTimeout,s=r.heartbeatInterval,u="pageload"===e.op,c=function(e,t){var n=function(e){if(e){var t,n=e.match(xt);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}}(e),r=function(e){if(M(e)||Array.isArray(e)){var t={};if(Array.isArray(e))t=e.reduce((function(e,t){var n=wt(t);return k(k({},e),n)}),{});else{if(!e)return;t=wt(e)}var n=Object.entries(t).reduce((function(e,t){var n=(0,_.A)(t,2),r=n[0],i=n[1];return r.match(bt)&&(e[r.slice(Tt.length)]=i),e}),{});return Object.keys(n).length>0?n:void 0}}(t),i=n||{},a=i.traceId,o=i.parentSpanId,s=i.parentSampled,u={traceId:a||Qe(),spanId:Qe().substring(16),sampled:s};return o&&(u.parentSpanId=o),r&&(u.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:u}}(u?ci("sentry-trace"):"",u?ci("baggage"):""),d=c.traceparentData,p=c.dynamicSamplingContext,f=c.propagationContext,l=R(k(k({},e),d),{metadata:R(k({},e.metadata),{dynamicSamplingContext:d&&!p?{}:p}),trimEnd:!0}),h="function"==typeof i?i(l):l,v=void 0===h?R(k({},l),{sampled:!1}):h;v.metadata=v.name!==l.name?R(k({},v.metadata),{source:"custom"}):v.metadata,this._latestRouteName=v.name,this._latestRouteSource=v.metadata&&v.metadata.source,!1===v.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Will not send "+v.op+" transaction because of beforeNavigate."),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Starting "+v.op+" transaction on scope");var m=hn(n,v,a,o,!0,{location:Yr.location},s),g=n.getScope();return u&&d?g.setPropagationContext(f):g.setPropagationContext({traceId:m.traceId,spanId:m.spanId,parentSpanId:m.parentSpanId,sampled:m.sampled}),m.registerBeforeFinishCallback((function(e){t._collectWebVitals(),function(e){var t=$r();if(t&&Yr.performance.getEntries&&Et){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=Vr(Et),a=t.getEntries();if(a.slice(Zr).forEach((function(t){var a=Vr(t.startTime),o=Vr(t.duration);if(!("navigation"===e.op&&i+a<e.startTimestamp))switch(t.entryType){case"navigation":(function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){ti(e,t,r,n)})),ti(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),ti(e,t,"fetch",n,"cache","domainLookupStart"),ti(e,t,"domainLookup",n,"DNS"),function(e,t,n){Jr(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Vr(t.requestStart),endTimestamp:n+Vr(t.responseEnd)}),Jr(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Vr(t.responseStart),endTimestamp:n+Vr(t.responseEnd)})}(e,t,n)})(e,t,i),n=i+Vr(t.responseStart),r=i+Vr(t.requestStart);break;case"mark":case"paint":case"measure":!function(e,t,n,r,i){var a=i+n,o=a+r;Jr(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:a})}(e,t,a,o,i);var s=Fr(),u=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&u&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding FP"),Qr.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&u&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding FCP"),Qr.fcp={value:t.startTime,unit:"millisecond"});break;case"resource":var c=t.name.replace(Yr.location.origin,"");!function(e,t,n,r,i,a){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var o={};"transferSize"in t&&(o["http.response_transfer_size"]=t.transferSize),"encodedBodySize"in t&&(o["http.response_content_length"]=t.encodedBodySize),"decodedBodySize"in t&&(o["http.decoded_response_content_length"]=t.decodedBodySize),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);var s=a+r;Jr(e,{description:n,endTimestamp:s+i,op:t.initiatorType?"resource."+t.initiatorType:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:s,data:o})}}(e,t,c,a,o,i)}})),Zr=Math.max(a.length-1,0),function(e){var t=Yr.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Wr(n.rtt)&&(Qr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Wr(t.deviceMemory)&&e.setTag("deviceMemory",t.deviceMemory+" GB"),Wr(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}}(e),"pageload"===e.op){"number"==typeof n&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding TTFB"),Qr.ttfb={value:1e3*(n-e.startTimestamp),unit:"millisecond"},"number"==typeof r&&r<=n&&(Qr["ttfb.requestTime"]={value:1e3*(n-r),unit:"millisecond"})),["fcp","fp","lcp"].forEach((function(t){if(Qr[t]&&!(i>=e.startTimestamp)){var n=Qr[t].value,r=i+Vr(n),a=Math.abs(1e3*(r-e.startTimestamp)),o=a-n;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Normalized "+t+" from "+n+" to "+a+" ("+o+")"),Qr[t].value=a}}));var o=Qr["mark.fid"];o&&Qr.fid&&(Jr(e,{description:"first input delay",endTimestamp:o.value+Vr(Qr.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete Qr["mark.fid"]),"fcp"in Qr||delete Qr.cls,Object.keys(Qr).forEach((function(t){e.setMeasurement(t,Qr[t].value,Qr[t].unit)})),function(e){Xr&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding LCP Data"),Xr.element&&e.setTag("lcp.element",ue(Xr.element)),Xr.id&&e.setTag("lcp.id",Xr.id),Xr.url&&e.setTag("lcp.url",Xr.url.trim().slice(0,200)),e.setTag("lcp.size",Xr.size)),Kr&&Kr.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.log("[Measurements] Adding CLS Data"),Kr.sources.forEach((function(t,n){return e.setTag("cls.source."+(n+1),ue(t.node))})))}(e)}Xr=void 0,Kr=void 0,Qr={}}}(e)})),m}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")}},{key:"_registerInteractionListener",value:function(){var e,t=this,n=function(){var n=t.options,r=n.idleTimeout,i=n.finalTimeout,a=n.heartbeatInterval,o="ui.action.click",s=Qt();if(s&&s.op&&["navigation","pageload"].includes(s.op))("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("[Tracing] Did not create "+o+" transaction because a pageload or navigation transaction is in progress.");else if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),t._getCurrentHub)if(t._latestRouteName){var u=t._getCurrentHub(),c=Yr.location,d={name:t._latestRouteName,op:o,trimEnd:!0,metadata:{source:t._latestRouteSource||"url"}};e=hn(u,d,r,i,!0,{location:c},a)}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("[Tracing] Did not create "+o+" transaction because _latestRouteName is missing.");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_e.warn("[Tracing] Did not create "+o+" transaction because _getCurrentHub is invalid.")};["click"].forEach((function(e){addEventListener(e,n,{once:!1,capture:!0})}))}}]),e}();function ci(e){var t=function(e){return oe.document&&oe.document.querySelector?oe.document.querySelector(e):null}("meta[name="+e+"]");return t?t.getAttribute("content"):void 0}var di={};Un.Sentry&&Un.Sentry.Integrations&&(di=Un.Sentry.Integrations),k(k(k({},di),wn),Or);var pi="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",fi=null;function li(e,t){if(!1===e)return hi(e);if(fi)return hi(fi,t);var n=new Wn({dsn:pi,transport:window.fetch?Jn:$n,stackParser:or,integrations:[new Tr,new ur,new Dr,new Ar,new Nr,new ui]});return hi(fi=new Wt(n),t)}function hi(e,t){return void 0===t&&(t={key:"source",value:"@hCaptcha/loader"}),{addBreadcrumb:function(t){e&&e.addBreadcrumb(t)},captureMessage:function(n){e&&e.withScope((function(r){r.setTag(t.key,t.value),e.captureMessage(n)}))},captureException:function(n){e&&e.withScope((function(r){r.setTag(t.key,t.value),e.captureEvent({message:I,level:"error",extra:n})}))}}}function _i(e){var t=void 0===e?{}:e,n=t.scriptLocation,r=t.query,i=t.loadAsync,a=void 0===i||i,o=t.crossOrigin,s=t.apihost,u=void 0===s?"https://js.hcaptcha.com":s,c=t.cleanup,d=void 0===c||c,p=t.secureApi,f=void 0!==p&&p,l=t.scriptSource,h=void 0===l?"":l,_=C(n),v=A(_);return new Promise((function(e,t){var n=v.document.createElement("script");n.id=B,n.src=h?h+"?onload="+U:f?u+"/1/secure-api.js?onload="+U:u+"/1/api.js?onload="+U,n.crossOrigin=o,n.async=a;var i=function(e,r){try{!f&&d&&_.removeChild(n),r(e)}catch(i){t(i)}};n.onload=function(t){return i(t,e)},n.onerror=function(e){return i(e,t)},n.src+=""!==r?"&"+r:"",_.appendChild(n)}))}var vi=[];function mi(e,t){var n=this;void 0===e&&(e={cleanup:!0});try{t.addBreadcrumb({category:O,message:"hCaptcha loader params",data:e});var r,i=A(C(e.scriptLocation)),a=vi.find((function(e){return e.scope===i.window}));if(a)return t.addBreadcrumb({category:O,message:"hCaptcha already loaded"}),a.promise;var s=new Promise((function(r,s){return D(n,null,(0,o.A)().mark((function n(){var u,c;return(0,o.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i.window[U]=function(){t.addBreadcrumb({category:O,message:"hCaptcha script called onload function"}),r(i.window.hcaptcha)},u=N({custom:e.custom,render:e.render,sentry:e.sentry,assethost:e.assethost,imghost:e.imghost,reportapi:e.reportapi,endpoint:e.endpoint,host:e.host,recaptchacompat:e.recaptchacompat,hl:e.hl}),n.next=5,_i(k({query:u},e));case 5:t.addBreadcrumb({category:O,message:"hCaptcha loaded",data:a}),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),t.addBreadcrumb({category:O,message:"hCaptcha failed to load",data:n.t0}),-1!==(c=vi.findIndex((function(e){return e.scope===i.window})))&&vi.splice(c,1),t.captureException(n.t0),s(new Error(I));case 13:case"end":return n.stop()}}),n,null,[[0,8]])})))}));return vi.push({promise:s,scope:i.window}),s}catch(r){return t.captureException(r),Promise.reject(new Error(I))}}function gi(e,t){return void 0===t&&(t=0),D(this,null,(0,o.A)().mark((function n(){var r,i;return(0,o.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t<2?"Retry loading hCaptcha Api":"Exceeded maximum retries",i=li(e.sentry),n.prev=1,n.next=4,mi(e,i);case 4:return n.abrupt("return",n.sent);case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",(i.addBreadcrumb({SENTRY_SOURCE:O,message:r,data:{error:n.t0}}),t>=2?(i.captureException(n.t0),Promise.reject(n.t0)):gi(e,t+=1)));case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))}function yi(e){var t=e&&e.ownerDocument||document;return{document:t,window:t.defaultView||t.parentWindow||window}}function Ei(e){return e||document.head}var Si={key:"source",value:"@hCaptcha/react"},Ti=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this)._hcaptcha=void 0,n.renderCaptcha=n.renderCaptcha.bind((0,r.A)(n)),n.resetCaptcha=n.resetCaptcha.bind((0,r.A)(n)),n.removeCaptcha=n.removeCaptcha.bind((0,r.A)(n)),n.isReady=n.isReady.bind((0,r.A)(n)),n.loadCaptcha=n.loadCaptcha.bind((0,r.A)(n)),n.handleOnLoad=n.handleOnLoad.bind((0,r.A)(n)),n.handleSubmit=n.handleSubmit.bind((0,r.A)(n)),n.handleExpire=n.handleExpire.bind((0,r.A)(n)),n.handleError=n.handleError.bind((0,r.A)(n)),n.handleOpen=n.handleOpen.bind((0,r.A)(n)),n.handleClose=n.handleClose.bind((0,r.A)(n)),n.handleChallengeExpired=n.handleChallengeExpired.bind((0,r.A)(n)),n.ref=a._3(),n.apiScriptRequested=!1,n.sentryHub=null,n.state={isApiReady:!1,isRemoved:!1,elementId:t.id,captchaId:""},n}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,(0,i.A)(t,n);var u=s.prototype;return u.componentDidMount=function(){var e=this,t=yi(Ei(this.props.scriptLocation));this._hcaptcha=t.window.hcaptcha||void 0;var n=void 0!==this._hcaptcha;this.sentryHub=li(this.props.sentry,Si),this.sentryHub.addBreadcrumb({category:Si.value,message:"hCaptcha component mounted"}),n?this.setState({isApiReady:!0},(function(){e.renderCaptcha()})):this.loadCaptcha()},u.componentWillUnmount=function(){var e=this.state.captchaId,t=this._hcaptcha;this.isReady()&&(t.reset(e),t.remove(e),this.sentryHub.addBreadcrumb({category:Si.value,message:"hCaptcha component unmounted"}))},u.shouldComponentUpdate=function(e,t){return this.state.isApiReady===t.isApiReady&&this.state.isRemoved===t.isRemoved},u.componentDidUpdate=function(e){var t=this;["sitekey","size","theme","tabindex","languageOverride","endpoint"].every((function(n){return e[n]===t.props[n]}))||this.removeCaptcha((function(){t.renderCaptcha()}))},u.loadCaptcha=function(){if(!this.apiScriptRequested){var e=this.props,t=e.apihost,n=e.assethost,r=e.endpoint,i=e.host,a=e.imghost,s=e.languageOverride,u=e.reCaptchaCompat,c=e.reportapi,d=e.sentry,p=e.custom,f=e.loadAsync,l=e.scriptLocation,h=e.scriptSource,_=e.secureApi,v=e.cleanup;(function(){return D(this,arguments,(function(e){return void 0===e&&(e={}),(0,o.A)().mark((function t(){return(0,o.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gi(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))()}))})({render:"explicit",apihost:t,assethost:n,endpoint:r,hl:s,host:i,imghost:a,recaptchacompat:!1===u?"off":null,reportapi:c,sentry:d,custom:p,loadAsync:f,scriptLocation:l,scriptSource:h,secureApi:_,cleanup:void 0===v||v}).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},u.renderCaptcha=function(e){if(this.state.isApiReady){var t=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),n=this._hcaptcha.render(this.ref.current,t);this.setState({isRemoved:!1,captchaId:n},(function(){e&&e()}))}},u.resetCaptcha=function(){var e=this.state.captchaId,t=this._hcaptcha;this.isReady()&&(t.reset(e),this.sentryHub.addBreadcrumb({category:Si.value,message:"hCaptcha reset"}))},u.removeCaptcha=function(e){var t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&(this.setState({isRemoved:!0},(function(){n.remove(t),e&&e()})),this.sentryHub.addBreadcrumb({category:Si.value,message:"hCaptcha removed"}))},u.handleOnLoad=function(){var e=this;this.setState({isApiReady:!0},(function(){try{var t=yi(Ei(e.props.scriptLocation));e._hcaptcha=t.window.hcaptcha,e.renderCaptcha((function(){var t=e.props.onLoad;t&&t()}))}catch(n){e.sentryHub.captureException(n)}}))},u.handleSubmit=function(e){var t=this.props.onVerify,n=this.state,r=n.isRemoved,i=n.captchaId,a=this._hcaptcha;if(void 0!==a&&!r){var o=a.getResponse(i),s=a.getRespKey(i);t&&t(o,s)}},u.handleExpire=function(){var e=this.props.onExpire,t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&(n.reset(t),e&&e(),this.sentryHub.addBreadcrumb({category:Si.value,message:"hCaptcha expired"}))},u.handleError=function(e){var t=this.props.onError,n=this.state.captchaId,r=this._hcaptcha;this.isReady()&&r.reset(n),t&&t(e)},u.isReady=function(){var e=this.state,t=e.isApiReady,n=e.isRemoved;return t&&!n},u.handleOpen=function(){this.isReady()&&this.props.onOpen&&this.props.onOpen()},u.handleClose=function(){this.isReady()&&this.props.onClose&&this.props.onClose()},u.handleChallengeExpired=function(){this.isReady()&&this.props.onChalExpired&&this.props.onChalExpired()},u.execute=function(e){void 0===e&&(e=null);try{var t=this.state.captchaId,n=this._hcaptcha;if(!this.isReady())return;return e&&"object"!=typeof e&&(e=null),n.execute(t,e)}catch(r){this.sentryHub.captureException(r)}},u.setData=function(e){var t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&(e&&"object"!=typeof e&&(e=null),n.setData(t,e))},u.getResponse=function(){return this._hcaptcha.getResponse(this.state.captchaId)},u.getRespKey=function(){return this._hcaptcha.getRespKey(this.state.captchaId)},u.render=function(){var e=this.state.elementId;return a.n("div",{ref:this.ref,id:e})},s}(a.uA),bi=Ti},26803:function(e,t,n){n.d(t,{b:function(){return o}});var r=n(90675),i=n(10467),a=(n(16280),n(76918),n(23792),n(26099),n(3362),n(47764),n(73772),n(62953),n(6541));function o(e,t){var n,o=void 0===t?{}:t,s=o.terminate,u=void 0===s||s,c=o.targetOrigin,d=void 0===c?"*":c;if("undefined"==typeof window)throw new Error("You can only run fromIframe() in a browser context, but no window was found.");var p,f=new WeakMap;function l(t){t.source===e.contentWindow&&t.data===a.q&&(window.removeEventListener("message",l),p())}null===(n=e.contentWindow)||void 0===n||n.postMessage(a.q,d);var h=new Promise((function(e){p=e,window.addEventListener("message",l)}));return{postMessage:function(t,n){return(0,i.A)((0,r.A)().mark((function i(){var a;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h;case 2:null===(a=e.contentWindow)||void 0===a||a.postMessage(t,d,n);case 3:case"end":return r.stop()}}),i)})))()},addEventListener:function(t,n){var r=function(t){t.source===e.contentWindow&&n(t)};f.set(n,r),self.addEventListener(t,r)},removeEventListener:function(e,t){var n=f.get(t);null!=n&&(f.delete(t),self.removeEventListener(e,n))},terminate:function(){window.removeEventListener("message",l),u&&e.remove()}}}},94048:function(e,t,n){n.d(t,{Yq:function(){return s}}),n(23792),n(26910),n(33110),n(36033),n(69085),n(26099),n(47764),n(62953);var r=new Map;function i(e,t){var n=function(e,t){return void 0===t&&(t={}),(Array.isArray(e)?e.sort().join("-"):e)+"-"+JSON.stringify(t)}(e,t);if(r.has(n))return r.get(n);var i=new Intl.DateTimeFormat(e,t);return r.set(n,i),i}var a=Intl.DateTimeFormat("en",{hour:"numeric"}),o=void 0===a.resolvedOptions?void 0:a.resolvedOptions();function s(e,t,n){if(void 0===n&&(n={}),null!=o&&!1===n.hour12&&null!=o.hourCycle&&(n.hour12=void 0,n.hourCycle="h23"),null!=n.timeZone&&"Etc/GMT+12"===n.timeZone){var r=new Date(e.valueOf()-432e5);return i(t,Object.assign(Object.assign({},n),{},{timeZone:"UTC"})).format(r)}return i(t,n).format(e)}},75140:function(e,t,n){n.d(t,{e:function(){return a}});var r=n(5544),i=n(15299);function a(e){var t=(0,i.J0)(e),n=(0,r.A)(t,2),a=n[0],o=n[1];return{value:a,toggle:(0,i.hb)((function(){return o((function(e){return!e}))}),[]),setTrue:(0,i.hb)((function(){return o(!0)}),[]),setFalse:(0,i.hb)((function(){return o(!1)}),[])}}},18866:function(e,t,n){var r=n(43802).end,i=n(60706);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},46449:function(e,t,n){var r=n(46518),i=n(70259),a=n(48981),o=n(26198),s=n(91291),u=n(1469);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},93514:function(e,t,n){n(6469)("flat")},77462:function(e,t,n){var r=n(46518),i=n(24475);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},25843:function(e,t,n){var r=n(46518),i=n(52703);r({target:"Number",stat:!0,forced:Number.parseInt!==i},{parseInt:i})},39202:function(e,t,n){n(33313);var r=n(46518),i=n(18866);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},33313:function(e,t,n){var r=n(46518),i=n(18866);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},5240:function(e,t,n){n(16468)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(91625))},30958:function(e,t,n){n(5240)}}]);