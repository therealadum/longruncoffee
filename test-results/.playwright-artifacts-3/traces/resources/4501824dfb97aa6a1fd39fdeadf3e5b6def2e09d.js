"use strict";(globalThis.zipifyJsonp=globalThis.zipifyJsonp||[]).push([[837],{28616:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ve});var s=i(78771),n=i(86353),r=i(17048),o=i(76407),a=null;const l=(e,t)=>function(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];var r=()=>{e.apply(this,s),a=null};a&&clearTimeout(a),a=setTimeout(r,t)};function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const d={name:"HeroQuantity",components:{ButtonCta:i(51943).Z},props:{isInlineTextEditorEligible:Boolean},data:()=>({timer:{slow:null,medium:null,fast:null},interval:{slow:null,medium:null,fast:null},priority:{input:{min:1,max:99999}}}),mounted(){document.addEventListener("keydown",this.hendleKeyPress),document.addEventListener("keyup",this.clearTimers)},beforeDestroy(){document.removeEventListener("keydown",this.hendleKeyPress),document.removeEventListener("keyup",this.clearTimers)},computed:u(u(u({},(0,r.Se)({isMobileView:"".concat(o.Fm,"/isMobileView"),representation:"".concat(o.Fm,"/representation")})),(0,r.rn)({type:e=>e[o.Fm].offerType,quantity:e=>e[o.Fm].quantity})),{},{hideQuantity(){return this.representation.offer.hide_quantity_field?"ocu-quantity-range__none":"ocu-quantity-range__block"},isIncartComponent(){return"Incart"===this.type},mobileCondition(){var e,t;return this.isMobileView||(null===(e=this.$utils)||void 0===e||null===(t=e.userAgent)||void 0===t?void 0:t.isMobile)}}),methods:u(u({},(0,r.OI)({setQuantity:"".concat(o.Fm,"/setQuantity")})),{},{checkPriority(e){var t=this.priority.input,i=t.min,s=t.max,n=+e.target.value;isNaN(n)?n=1:n<i?n=i:n>s&&(n=s),e.target.value=this.quantity,l((()=>{this.setQuantity({quantity:n})}),100)()},changePriority(e,t){if(/touchstart|mousedown|keydown/.test(e.type)||13===e.keyCode){var i=i=>{var s=this.quantity;"increment"===t?s++:"decrement"===t&&s--,e.target.value=s,this.checkPriority(i)};i(e),this.autoChangePriority(i,e)}},autoChangePriority:function(e,t){this.timer.slow||(this.timer.slow=setTimeout((()=>{this.interval.slow=setInterval((()=>e(t)),50)}),100),this.timer.medium=setTimeout((()=>{this.interval.medium=setInterval((()=>e(t)),25)}),1e3),this.timer.fast=setTimeout((()=>{this.interval.fast=setInterval((()=>e(t)),4)}),2500))},clearTimers(){for(var e in this.interval)Object.prototype.hasOwnProperty.call(this.interval,e)&&clearInterval(this.interval[e]);for(var t in this.timer)Object.prototype.hasOwnProperty.call(this.timer,t)&&clearTimeout(this.timer[t]);this.timer.slow=null},hendleKeyPress(e){["-","Minus","NumpadSubtract"].includes(e.code)&&this.changePriority(e,"decrement"),["+","Equal","NumpadAdd"].includes(e.code)&&this.changePriority(e,"increment")},changeTabButtons(){this.editMode&&this.$proxy.publish("change:tab","buttons")}})};var p=i(87119);const h=(0,p.Z)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ocu-upsell__quantity",class:{"ocu-upsell__quantity-mobile":e.isMobileView},on:{click:function(t){return t.stopPropagation(),e.changeTabButtons.apply(null,arguments)}}},[e.isIncartComponent?i("div",{staticClass:"ocu-quantity-range",class:[e.hideQuantity,{"ocu-quantity-range-mobile":e.isMobileView}],attrs:{"data-testid":"quantity"}},[i("button",{staticClass:"ocu-quantity-range__minus",attrs:{"data-testid":"button-minus"},on:{mousedown:function(t){return e.changePriority(t,"decrement")},touchstart:function(t){return e.changePriority(t,"decrement")},keydown:function(t){return e.changePriority(t,"decrement")},mouseout:e.clearTimers,mouseup:e.clearTimers,touchend:e.clearTimers,keyup:e.clearTimers}}),e._v(" "),i("input",{staticClass:"ocu-quantity-range__input",class:{"ocu-quantity-range__input-mobile":e.isMobileView},attrs:{type:"text","data-testid":"quantity-input"},domProps:{value:e.quantity},on:{input:e.checkPriority}}),e._v(" "),i("button",{staticClass:"ocu-quantity-range__plus",attrs:{"data-testid":"button-plus"},on:{mousedown:function(t){return e.changePriority(t,"increment")},touchstart:function(t){return e.changePriority(t,"increment")},keydown:function(t){return e.changePriority(t,"increment")},mouseout:e.clearTimers,mouseup:e.clearTimers,touchend:e.clearTimers,keyup:e.clearTimers}})]):e._e(),e._v(" "),e.mobileCondition?e._e():i("button-cta",{attrs:{isInlineTextEditorEligible:e.isInlineTextEditorEligible}})],1)}),[],!1,null,"11c029fc",null).exports;var m=i(15558);function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const b={name:"ProductTitle",components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},props:{currentComponent:{type:String,required:!0,validator:e=>["Incart","Upgrade"].includes(e)},isInlineTextEditorEligible:Boolean},computed:g(g({},(0,r.Se)({isMobileView:"".concat(o.Fm,"/isMobileView"),offers:"".concat(o.Fm,"/offers"),offerData:"".concat(o.Fm,"/offerProducts"),editableClasses:"".concat(o.Fm,"/editableClasses"),highlightable:"".concat(o.Fm,"/highlightable"),editMode:"".concat(o.Fm,"/editMode"),settings:"".concat(o.Fm,"/representation"),descriptionTitle:"".concat(o.Fm,"/descriptionTitle"),popupHeadline:"".concat(o.Fm,"/popupHeadline")})),{},{isUpgrade(){return"Upgrade"===this.$store.state[o.Fm].offerType},title(){return this.isUpgrade?this.popupHeadline:this.descriptionTitle},inlineTitle(){return this.isUpgrade?this.upgradeTitleContent:this.incartTitleContent},inlineTitleWithoutVariables(){return this.isUpgrade?this.upgradeWithOutVariables:this.incartWithOutVariables},isIncartComponent(){return"Incart"===this.currentComponent},additionalClasses(){return this.isIncartComponent?"":"ocu-text--normal desktop-subtitle"},isProductTitleHidden(){return this.isIncartComponent||!this.isIncartComponent&&!this.isMobileView},incartTitleContent(){var e,t;return(null===(e=this.settings.offer)||void 0===e||null===(t=e.inline_title)||void 0===t?void 0:t.inline_content)||this.settings.offer.title},upgradeTitleContent(){var e,t;return(null===(e=this.settings.headline)||void 0===e||null===(t=e.headline)||void 0===t?void 0:t.inline_content)||this.settings.headline.popup_headline},titleSection(){return this.isUpgrade?"headline":"offer"},titleKey(){return this.isUpgrade?"headline":"inline_title"},incartWithOutVariables(){var e,t,i,s;return null!==(e=this.settings.offer)&&void 0!==e&&null!==(t=e.inline_title)&&void 0!==t&&t.inline_content?this.replaceText(null===(i=this.settings.offer)||void 0===i||null===(s=i.inline_title)||void 0===s?void 0:s.inline_content):this.descriptionTitle},upgradeWithOutVariables(){var e,t,i,s;return null!==(e=this.settings.headline)&&void 0!==e&&null!==(t=e.headline)&&void 0!==t&&t.inline_content?this.replaceText(null===(i=this.settings.headline)||void 0===i||null===(s=i.headline)||void 0===s?void 0:s.inline_content):this.popupHeadline}}),methods:{onClick(){var e=this;return(0,s.Z)((function*(){if(e.editMode){var t={tab:e.isUpgrade?"headline":"offer",type:e.isUpgrade?"popup_headline":"title"};yield e.$nextTick(),e.$proxy.publish("change:tab","buy box"),e.$proxy.publish("wysiwyg",t)}}))()},highlightSection(){this.$proxy.publish("change:tab",this.titleSection)},saveWysiwyg(e){var{key:t,content:i}=e,s={section:this.titleSection,data:{key:this.titleKey,value:{[t]:i}}};this.$store.commit("singleUpsells/setSection",g({},s)),this.$proxy.publish("representation",s)},replaceText(e){return this.$utils.editorVariableFinder(e,"text",m.b,this.$store.state.singleUpsellsModule)}}},y=(0,p.Z)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isInlineTextEditorEligible?i("div",{directives:[{name:"show",rawName:"v-show",value:e.isProductTitleHidden,expression:"isProductTitleHidden"}],class:e.highlightable},[i("h3",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.title,expression:"title"}],staticClass:"ocu-hero-content__title ocu-offset-bottom--xs",class:[e.editableClasses,e.additionalClasses],attrs:{tabindex:"0","data-testid":"title"},on:{click:e.onClick}})]):i("div",{directives:[{name:"show",rawName:"v-show",value:e.isProductTitleHidden,expression:"isProductTitleHidden"}],on:{click:e.highlightSection}},[i("Wysiwyg",{staticClass:"ocu-offset-bottom--xs",class:[e.editableClasses,e.additionalClasses],attrs:{content:e.inlineTitle,contentWithoutVariables:e.inlineTitleWithoutVariables,editable:e.editMode,toolbarWidth:"ocu-toolbar--wide",type:"pre",layoutType:"PRODUCT_TITLE",fieldName:"headline",position:"centered",isEmptyValidation:!0},on:{"save:content":e.saveWysiwyg}})],1)}),[],!1,null,null,null).exports;var f=i(95744);function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const O={name:"PriceLine",components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},props:{isDiscounted:Boolean,nowPrice:String,prices:String,highlightable:Object,showSavings:Boolean,editableClasses:Object,savingsStyles:Object,onClick:Function,savings:String,isInlineTextEditorEligible:Boolean,savingsAmount:String,savingsText:String,savingsAmountStyles:Object,editMode:Boolean,data:Object},computed:{savingsContent(){var{savingsAmount:e,savingsAmountStyles:t}=this,{color:i,fontSize:s,fontFamily:n,fontWeight:r,fontStyle:o,textDecoration:a}=t;return'\n                <div style="color: '.concat(i,"; font-weight: ").concat(r,"; font-size: ").concat(s,"; font-style: ").concat(o,"; font-family: ").concat(n,"; text-decoration: ").concat(a,'">\n                    ').concat(e,"\n                </div>\n            ")},labelContent(){var{savingsText:e,savingsStyles:t}=this,{color:i,fontSize:s,fontFamily:n,fontWeight:r,fontStyle:o,textDecoration:a}=t,l='\n                <div style="color: '.concat(i,"; font-weight: ").concat(r,"; font-size: ").concat(s,"; font-style: ").concat(o,"; font-family: ").concat(n,"; text-decoration: ").concat(a,'">\n                    ').concat(e,"\n                </div>\n            ");return this.data.saving.inline_content||l}},methods:{saveContent(e){var t,{key:i,content:s,isClearFormatting:n=!1,type:r,sizes:o}=e;if(n)return this.clearFormatting(s,r);"size"===i&&(t="".concat(o[s],"px"));var a={section:"offer",data:{key:r,value:_(_({},this.data[r]),{},{[i]:t||s})}};this.$store.commit("singleUpsells/setSection",_({},a)),this.$proxy.publish("representation",a)},clearFormatting(e,t){var i={section:"offer",data:{key:t,value:Object.keys(e).reduce(((t,i)=>(t[i]=e[i],t)),{})}};this.$store.commit("singleUpsells/setSection",_({},i)),this.$proxy.publish("representation",i)}}};function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const x={name:"PriceBreakdown",components:{PriceLine:(0,p.Z)(O,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"price-holder"},[e.isDiscounted?i("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.prices,expression:"prices"}],staticClass:"ocu-totals__was ocu-totals__was--line-through ocu-offset-right--sm ocu-offset-bottom--xxs",attrs:{tabindex:"0","data-testid":"price-static"}}):e._e(),e._v(" "),i("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.nowPrice,expression:"nowPrice"}],staticClass:"ocu-totals__has ocu-offset-right--sm ocu-offset-bottom--xxs",attrs:{tabindex:"0","data-testid":"price-discount"}}),e._v(" "),e.isInlineTextEditorEligible?i("span",{staticClass:"ocu-totals__save ocu-offset-bottom--xxs",class:e.highlightable,attrs:{"data-testid":"savings-border"}},[e.showSavings?i("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.savings,expression:"savings"}],staticClass:"ocu-upsell-price__saving",class:e.editableClasses,style:e.savingsStyles,attrs:{tabindex:"0","data-testid":"savings"},on:{click:e.onClick}}):e._e()]):e._e(),e._v(" "),!e.isInlineTextEditorEligible&&e.showSavings?i("div",{staticClass:"ocu-savings--flex"},[i("Wysiwyg",{staticClass:"ocu-offset-right--xs",attrs:{content:e.savingsContent,editable:e.editMode,type:"pre",readOnly:!0,layoutType:"DECORATOR_2",fieldName:"savings",position:"centered",isDecorator:""},on:{"save:content":function(t){return e.saveContent(Object.assign({},t,{type:"savings_amount"}))}}}),e._v(" "),i("Wysiwyg",{staticClass:"text--width",attrs:{content:e.labelContent,editable:e.editMode,type:"pre",limit:25,toolbarWidth:"ocu-toolbar--wide ocu-toolbar--price",layoutType:"DECORATOR_3",fieldName:"savings",position:"centered"},on:{"save:content":function(t){return e.saveContent(Object.assign({},t,{type:"saving"}))}}})],1):e._e()])}),[],!1,null,"6cf17017",null).exports},data(){var e;return{dualPricing:null===(e=window.OCUApi)||void 0===e?void 0:e.dualPricing}},props:{isInlineTextEditorEligible:Boolean},computed:P(P(P({},(0,r.Se)({offerData:"".concat(o.Fm,"/offers"),editableClasses:"".concat(o.Fm,"/editableClasses"),editMode:"".concat(o.Fm,"/editMode"),highlightable:"".concat(o.Fm,"/highlightable"),isMobileView:"".concat(o.Fm,"/isMobileView"),representation:"".concat(o.Fm,"/representation"),product:"".concat(o.Fm,"/product"),subscriptionApp:"".concat(o.Fm,"/subscriptionApp")})),(0,r.rn)({moneyFormat:e=>e[o.Fm].moneyFormat,currencyCode:e=>e[o.Fm].currencyCode,variantPrices:e=>e[o.Fm].prices,variantPricesDual:e=>e[o.Fm].pricesDual})),{},{discount(){var e,t,i,s,n;return null!==(e=this.subscriptionApp)&&void 0!==e&&e.isSubscription?this.subscriptionApp.discount:{type:null===(t=this.representation)||void 0===t||null===(i=t.offer)||void 0===i?void 0:i.discount,value:null===(s=this.representation)||void 0===s||null===(n=s.offer)||void 0===n?void 0:n.discount_value}},discountDual(){var e,t,i=P({},this.discount);return/amount/.test(i.type)&&(i.value/=null!==(e=null===(t=this.dualPricing)||void 0===t?void 0:t.rate)&&void 0!==e?e:1),i},variant(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.variant},savingsLablelEnabled(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.is_savings_label},savingsText(){var e,t,i;return null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t||null===(i=t.saving)||void 0===i?void 0:i.text},prices(){return this.getPrices(this.discount,this.variantPrices,this.moneyFormat,this.currencyCode)},pricesDual(){return this.getPrices(this.discountDual,this.variantPricesDual,this.dualPricing.moneyFormat,this.dualPricing.currencyCode)},nowPrice(){return this.getNowPrice(this.prices)},nowPriceDual(){return this.getNowPrice(this.pricesDual)},savingsAmount(){return this.getSavingsAmount(this.discount,this.prices)},savingsAmountDual(){return this.getSavingsAmount(this.discountDual,this.pricesDual)},savings(){return this.getSavings(this.savingsAmount)},savingsDual(){return this.getSavings(this.savingsAmountDual)},isDiscounted(){var e,t,i;return!!("none"!==(null===(e=this.discount)||void 0===e?void 0:e.type)&&null!==(null===(t=this.prices)||void 0===t?void 0:t._discountedPrice)&&(null===(i=this.prices)||void 0===i?void 0:i._discountedPrice)>=0)},showSavings(){return this.isDiscounted&&this.savingsLablelEnabled},savingsSettings(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.saving},savingsStyles(){return{color:this.savingsSettings.color,fontSize:this.savingsSettings.size,fontStyle:this.savingsSettings.italic,fontWeight:this.savingsSettings.emphasized?"700":"400",fontFamily:this.savingsSettings.font,textDecoration:this.savingsSettings.underline}},savingsAmountSettings(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.savings_amount},savingsAmountStyles(){return{color:this.savingsAmountSettings.color,fontSize:this.savingsAmountSettings.size,fontStyle:this.savingsAmountSettings.italic,fontWeight:this.savingsAmountSettings.emphasized?"700":"400",fontFamily:this.savingsAmountSettings.font,textDecoration:this.savingsAmountSettings.underline}},priceDirection(){var e;return{"flex--column":!(null!==(e=this.dualPricing)&&void 0!==e&&e.row)}}}),watch:{discount(){this.setPriceToStore()}},methods:{onClick(){var e=this;return(0,s.Z)((function*(){e.editMode&&(yield e.$nextTick(),e.$proxy.publish("change:tab","buy box"),e.$proxy.publish("decorator",{tab:"offer",text:!0,type:"saving"}))}))()},setPriceToStore(){this.isDiscounted&&(this.$store.commit("".concat(o.Fm,"/setPrices"),{prices:this.prices}),this.dualPricing&&this.$store.commit("".concat(o.Fm,"/setPricesDual"),{prices:this.pricesDual}))},getPrices(){return f.Z.countPrices(...arguments)},getNowPrice(e){return this.isDiscounted?e.discountedPrice:e.price},getSavingsAmount(e,t){var i=e.value>100?100:e.value;return"percent"===e.type?"".concat(i,"%"):t.savings},getSavings(e){return"(".concat(e," ").concat(this.savingsText,")")}}},T=(0,p.Z)(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.variantPrices?i("div",{staticClass:"ocu-hero-content__totals ocu-text--normal ocu-offset-bottom--sm",class:[e.priceDirection,e.isMobileView?"upsell-price__mobile":"upsell-price"]},[i("PriceLine",{attrs:{isInlineTextEditorEligible:e.isInlineTextEditorEligible,editableClasses:e.editableClasses,highlightable:e.highlightable,isDiscounted:e.isDiscounted,nowPrice:e.nowPrice,onClick:e.onClick,prices:e.prices.price,savings:e.savings,savingsStyles:e.savingsStyles,savingsAmount:e.savingsAmount,savingsAmountStyles:e.savingsAmountStyles,savingsText:e.savingsText,editMode:e.editMode,data:e.representation.offer,showSavings:e.showSavings}}),e._v(" "),e.dualPricing?i("PriceLine",{attrs:{isInlineTextEditorEligible:e.isInlineTextEditorEligible,editableClasses:e.editableClasses,highlightable:e.highlightable,isDiscounted:e.isDiscounted,nowPrice:e.nowPriceDual,onClick:e.onClick,prices:e.pricesDual.price,savings:e.savingsDual,savingsStyles:e.savingsStyles,savingsAmount:e.savingsAmountDual,savingsAmountStyles:e.savingsAmountStyles,savingsText:e.savingsText,editMode:e.editMode,data:e.representation.offer,showSavings:e.showSavings}}):e._e()],1):e._e()}),[],!1,null,"0f8d5f77",null).exports;function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function D(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const I={name:"Description",props:{product:Object,isInlineTextEditorEligible:Boolean},components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},computed:D(D({},(0,r.Se)({offers:"".concat(o.Fm,"/offers"),offerData:"".concat(o.Fm,"/offerProducts"),editableClasses:"".concat(o.Fm,"/editableClasses"),highlightable:"".concat(o.Fm,"/highlightable"),editMode:"".concat(o.Fm,"/editMode"),representation:"".concat(o.Fm,"/representation"),offerDescription:"".concat(o.Fm,"/offerDescription"),shopifyProduct:"".concat(o.Fm,"/product"),isDynamicOffer:"".concat(o.Fm,"/isDynamicOffer")})),{},{offer(){var e;return null===(e=this.representation)||void 0===e?void 0:e.offer},description(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.offer_description},inlineDescription(){var e,t;return null===(e=this.offer)||void 0===e||null===(t=e.inline_offer_description)||void 0===t?void 0:t.inline_content},isDescriptionEnabled(){return!!this.description||this.editMode},needMargin:()=>"ocu-offset-bottom--sm",importedDescription(){var e;return null===(e=this.shopifyProduct)||void 0===e?void 0:e.description},descriptionContent(){return this.inlineDescription?this.$utils.inlineEntitiesReplacer(this.inlineDescription):this.description},contentWithOutVariables(){return this.inlineDescription?this.$utils.editorVariableFinder(this.inlineDescription,"text",m.b,this.$store.state.singleUpsellsModule):this.offerDescription}}),methods:{onClick(){var e=this;return(0,s.Z)((function*(){if(e.editMode){var{id:t=0}=e.shopifyProduct,i={tab:"offer",type:"offer_description",product_id:t};yield e.$nextTick(),e.$proxy.publish("change:tab","buy box"),e.$proxy.publish("wysiwyg",i)}}))()},saveWysiwyg(e){var{key:t,content:i}=e,s={section:"offer",data:{key:"inline_offer_description",value:{[t]:i}}};this.$store.commit("singleUpsells/setSection",D({},s)),this.$proxy.publish("representation",s)}}},E=(0,p.Z)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isDescriptionEnabled,expression:"isDescriptionEnabled"}],staticClass:"ocu-description-wrapper"},[e.isInlineTextEditorEligible?i("div",{staticClass:"ocu-description-highlight",class:[e.highlightable,e.needMargin],attrs:{"data-testid":"description-highlight"}},[i("div",{staticClass:"ocu-description-editable",class:e.editableClasses,attrs:{"data-testid":"description-editable"}}),e._v(" "),i("div",{staticClass:"ocu-description-container ocu-offset-bottom--sm",attrs:{tabindex:"0"}},[i("div",{staticClass:"ocu-upsell-description ocu-hero-content__description"},[i("p",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.offerDescription,expression:"offerDescription"}],class:{"ocu-description-min-height":e.editMode},attrs:{"data-testid":"description-text"},on:{click:e.onClick}})])])]):i("Wysiwyg",{class:e.needMargin,attrs:{content:e.descriptionContent,contentWithoutVariables:e.contentWithOutVariables,editable:e.editMode,productDescription:e.importedDescription,isDynamic:e.isDynamicOffer,toolbarWidth:"ocu-toolbar--wide",type:"pre",layoutType:"DESCRIPTION",fieldName:"description",position:"centered",hasOverflow:""},on:{"save:content":e.saveWysiwyg}})],1)}),[],!1,null,"66dc1358",null).exports;function V(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function k(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const j={name:"Variants",components:{OptionsSelector:i(59435).Z},props:{product:{type:Object,required:!0}},computed:k(k(k({},(0,r.rn)({variant:e=>e[o.Fm].selectedVariant,isChangeFromCarousel:e=>e[o.Fm].isChangeFromCarousel,offerProduct:e=>e.offerProduct,prices:e=>e[o.Fm].prices,offerType:e=>e[o.Fm].offerType})),(0,r.Se)({isMobileView:"".concat(o.Fm,"/isMobileView"),offers:"".concat(o.Fm,"/offers"),isPreviewMode:"".concat(o.Fm,"/isPreviewMode"),editMode:"".concat(o.Fm,"/editMode"),representation:"".concat(o.Fm,"/representation"),isDynamicOffer:"".concat(o.Fm,"/isDynamicOffer"),offerDynamicOptions:"".concat(o.Fm,"/offerDynamicOptions")})),{},{isSelectorsDisabled(){return this.isDynamicOffer&&"same"===this.offerDynamicOptions.type&&!this.editMode},allowedVariants(){var e,t;return this.isDynamicOffer?this.product.variants.map((e=>e.id)):null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.variants},hideVariant(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.hide_variant_selector},dropdownStyles:()=>null,previewMode(){return this.$store.state[o.Fm].previewMode},variableForWith(){return{"--mainWidth":this.isMobileView||this.checkBreakpoints?"100%":"220px"}},checkBreakpoints:()=>window.matchMedia("(max-width: 767px)").matches}),methods:{onChange(e){var t,i,s;if(e&&(this.$store.commit("".concat(o.Fm,"/setVariant"),{variant:e}),this.$store.commit("".concat(o.Fm,"/setPrices"),{prices:{_price:e.price/100,_compareAtPrice:e.compare_at_price/100}}),null!==(t=window.OCUApi)&&void 0!==t&&t.dualPricing)){var n=null!==(i=null===(s=OCUApi.dualPricing)||void 0===s?void 0:s.rate)&&void 0!==i?i:1;this.$store.commit("".concat(o.Fm,"/setPricesDual"),{prices:{_price:this.prices._price/n,_compareAtPrice:this.prices._compareAtPrice/n}})}},showTab(){var e=this;return(0,s.Z)((function*(){e.isPreviewMode&&e.editMode&&(yield e.$nextTick(),e.$proxy.publish("change:tab","buy box"))}))()}}},M=(0,p.Z)(j,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("OptionsSelector",{directives:[{name:"show",rawName:"v-show",value:!e.hideVariant,expression:"!hideVariant"}],class:e.isMobileView?"full__width":"",style:e.variableForWith,attrs:{product:e.product,allowedVariants:e.allowedVariants,unavailableVariants:e.previewMode,styles:e.variableForWith,isDisabled:e.isSelectorsDisabled},on:{"change:variant":e.onChange},nativeOn:{mousedown:function(t){return e.showTab.apply(null,arguments)}}})}),[],!1,null,"479edeba",null).exports;function F(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function $(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const A={name:"SubscriptionWidget",components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},props:{isInlineTextEditorEligible:Boolean},data:()=>({selectedType:"onetime",selectedPlan:null}),watch:{plans(e){var t;this.selectedPlan=null===(t=e[0])||void 0===t?void 0:t.value}},computed:$($($({},(0,r.rn)({widget:e=>e[o.Fm].subscriptionWidget.app||{},settings(e){var t;return(null===(t=e[o.Fm].representation)||void 0===t?void 0:t.subscription)||{}},dynamicPreviewNumber:e=>e[o.Fm].subscriptionWidget.dynamicPreviewNumber,isAnyEditorOpened(e){var t;return null===(t=e.wysiwyg)||void 0===t?void 0:t.isAnyEditorOpened}})),(0,r.Se)({editMode:"".concat(o.Fm,"/editMode"),highlightableMode:"".concat(o.Fm,"/highlightable"),editableClasses:"".concat(o.Fm,"/editableClasses"),isMobileView:"".concat(o.Fm,"/isMobileView"),isDynamicOffer:"".concat(o.Fm,"/isDynamicOffer")})),{},{highlightable(){return this.isDynamicOffer?"":this.highlightableMode},dynamicOfferHighlightable(){return this.isDynamicOffer?this.highlightableMode:""},dynamicOfferEditable(){return this.isDynamicOffer?this.editableClasses:""},isSubscriptionSelected(){return"subscription"===this.selectedType},showSubscriptionOnlyLabel(){return this.widget.isOneOption&&this.isSubscriptionSelected},showSubscriptionOptions(){return!this.widget.isOneOption&&this.isSubscriptionSelected},plans(){var e;return(null===(e=this.widget)||void 0===e?void 0:e.subscribeOptions)||[]},onetimeLabel(){var e=this.settings.onetime.text||"One-time purchase";return this.getStyledBlock(this.onetimeStyles,e)},subscriptionLabel(){var e=this.isInlineTextEditorEligible?"".concat(this.discount):"",t=this.discount.length?"".concat(this.settings.subscribe_and_save.text," ").concat(e):this.settings.subscription.text;return this.getStyledBlock(this.subscriptionStyles,t)},subscriptionType(){return this.discount.length?"subscribe_and_save":"subscription"},onetimeStyles(){return this.styles(this.settings.onetime)},subscriptionStyles(){return this.styles(this.settings.subscription)},rangeTitle(){return this.settings.subscription_plan.text},subscriptionsOnlyLabel(){return this.widget.renderVariables(this.settings.subscription_only.text)},prepaidLabel(){return this.widget.renderVariables(this.settings.pre_paid_subscription.text)},discount(){var{value:e}=this.widget.discount;return e?"".concat(e,"%"):""},labelAdditionalMargin(){return!this.widget.subscriptionOnly},selectWidth(){return{"--select-width":this.isMobileView||this.isMobileScreen?"calc(100% - 26px)":"220px"}},isMobileScreen:()=>window.matchMedia("(max-width: 767px)").matches,isDynamicEditPreview(){return this.isDynamicOffer&&this.editMode},subscribeLabelType(){return this.widget.prepaid?"pre_paid_subscription":"subscription_only"},subscribeDescriptionText(){return this.widget.prepaid?this.prepaidLabel:this.subscriptionsOnlyLabel},onetimeContent(){var e;return this.editMode&&this.isAnyEditorOpened?(null===(e=this.settings.onetime)||void 0===e?void 0:e.inline_content)||this.onetimeLabel:this.onetimeVariable},onetimeVariable(){var e,t;return null!==(e=this.settings.onetime)&&void 0!==e&&e.inline_content?this.replaceText(null===(t=this.settings.onetime)||void 0===t?void 0:t.inline_content):this.onetimeLabel},subscribeContent(){var e;return this.editMode&&this.isAnyEditorOpened?(null===(e=this.settings.subscribe_and_save)||void 0===e?void 0:e.inline_content)||this.subscriptionLabel:this.subscribeVariable},subscribeVariable(){var e,t;return null!==(e=this.settings.subscribe_and_save)&&void 0!==e&&e.inline_content?this.replaceText(null===(t=this.settings.subscribe_and_save)||void 0===t?void 0:t.inline_content):this.subscriptionLabel},prepaidContent(){var e;return this.editMode&&this.isAnyEditorOpened?(null===(e=this.settings.pre_paid_subscription)||void 0===e?void 0:e.inline_content)||this.prepaidLabel:this.prepaidVariable},prepaidVariable(){var e,t;return null!==(e=this.settings.pre_paid_subscription)&&void 0!==e&&e.inline_content?this.replaceText(null===(t=this.settings.pre_paid_subscription)||void 0===t?void 0:t.inline_content):this.prepaidLabel},subscriptionOnlyContent(){var e;return this.editMode&&this.isAnyEditorOpened?(null===(e=this.settings.subscription_only)||void 0===e?void 0:e.inline_content)||this.subscriptionsOnlyLabel:this.subscriptionOnlyVariable},subscriptionOnlyVariable(){var e,t;return null!==(e=this.settings.subscription_only)&&void 0!==e&&e.inline_content?this.replaceText(null===(t=this.settings.subscription_only)||void 0===t?void 0:t.inline_content):this.subscriptionsOnlyLabel},labelContent(){return this.widget.prepaid?this.prepaidContent:this.subscriptionOnlyContent},deliveryContent(){var e;return(null===(e=this.settings.subscription_plan)||void 0===e?void 0:e.inline_content)||this.rangeTitle},isShowWysPopup(){return this.showSubscriptionOnlyLabel&&(this.isInlineTextEditorEligible||this.isDynamicOffer)},isShowIteWys(){return this.showSubscriptionOnlyLabel&&!this.isInlineTextEditorEligible&&!this.isDynamicOffer},subscribeAndSaveDiscont(){var e,t;return null===(e=this.settings)||void 0===e||null===(t=e.subscribe_and_save)||void 0===t?void 0:t.discount_value},discountContent(){var{color:e,size:t,font:i,emphasized:s,italic:n,underline:r}=null==this?void 0:this.subscribeAndSaveDiscont,o=s?"bold":"normal",a=n?"italic":"normal",l=r?"underline":"none",c={small:"12px",base:"14px",medium:"16px",large:"18px",middle:"20px",xmiddle:"22px",xlarge:"24px"};return'\n                <div style="color: '.concat(e,"; font-weight: ").concat(o,"; font-size: ").concat((null==c?void 0:c[t])||t,"; font-style: ").concat(a,"; font-family: ").concat(i,"; text-decoration: ").concat(l,'">\n                    ').concat(this.discount,"\n                </div>\n            ")}}),methods:{changePlan(e){this.$store.commit("".concat(o.Fm,"/changeSubscription"),{type:"plan",value:e.target.value})},changeType(e){this.selectedType=e.target.value,this.$store.commit("".concat(o.Fm,"/changeSubscription"),{type:"type",value:"subscription"===e.target.value})},changeTypeClick(e){this.$refs[e].click(),this.selectedType=e,this.$store.commit("".concat(o.Fm,"/changeSubscription"),{type:"type",value:"subscription"===e})},showDynamicDecorator(){this.isDynamicOffer&&this.editMode&&this.$proxy.publish("dynamic:decorator",null)},showDecorator(e){var t=this;return(0,s.Z)((function*(){if(t.isInlineTextEditorEligible&&t.editMode&&e&&!t.isDynamicOffer){var i={tab:"subscription",text:!0,type:e};yield t.$nextTick(),t.$proxy.publish("decorator",i)}}))()},styles(e){var{font:t,size:i,color:s,italic:n,underline:r,emphasized:o}=e;return{color:s,"font-family":t,"font-size":i,"font-style":n||"normal","font-weight":o?700:400,"text-decoration":r||"none"}},updateSelectedType(){this.selectedType=this.widget.subscriptionOnly?"subscription":"onetime"},saveWysiwyg(e){var t,{key:i,content:s,type:n}=e,r={section:"subscription",data:{key:n,value:$($({},null===(t=this.settings)||void 0===t?void 0:t[n]),{},{[i]:s})}};this.$store.commit("singleUpsells/setSection",$({},r)),this.$proxy.publish("representation",r)},saveContent(e){var{key:t,content:i,isClearFormatting:s=!1}=e;if(s)return this.clearFormatting(i);var n={section:"subscription",data:{key:"subscribe_and_save",value:{discount_value:$($({},this.subscribeAndSaveDiscont),{},{[t]:i})}}};this.$store.commit("singleUpsells/setSection",$({},n)),this.$proxy.publish("representation",n)},clearFormatting(e){var t={section:"subscription",data:{key:"subscribe_and_save",value:{discount_value:Object.keys(e).reduce(((t,i)=>(t[i]=e[i],t)),{})}}};this.$store.commit("singleUpsells/setSection",$({},t)),this.$proxy.publish("representation",t)},replaceText(e){return this.$utils.editorVariableFinder(e,"text",this.widget,null,0,!0)},getStyledBlock(e,t){var{color:i,"font-family":s,"font-size":n,"font-style":r,"font-weight":o,"text-decoration":a}=e;return'\n                <p style="color:'.concat(i,";\n                          font-family: ").concat(s,";\n                          font-size: ").concat(n,";\n                          font-style: ").concat(r,";\n                          font-weight: ").concat(o,";\n                          text-decoration: ").concat(a,';">\n                    ').concat(t,"\n                </p>\n            ")},setSubscriptionPlan(e){var t;this.selectedPlan=null!=e?e:null===(t=this.plans[0])||void 0===t?void 0:t.value}},created(){if(this.isDynamicEditPreview)return this.selectedType="subscription",void this.setSubscriptionPlan();this.updateSelectedType(),this.setSubscriptionPlan()},updated(){this.isDynamicEditPreview&&0!==this.dynamicPreviewNumber&&(this.selectedType="subscription")}};function W(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?W(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const L={name:"HeroSection",components:{ProductTitle:y,PriceBreakdown:T,Description:E,Variants:M,HeroQuantity:h,SubscriptionWidget:(0,p.Z)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ocu-subscriptions__container",class:e.dynamicOfferHighlightable},[i("hr",{staticClass:"ocu-subscriptions__divider"}),e._v(" "),i("div",{class:e.dynamicOfferEditable,on:{click:e.showDynamicDecorator}},[e.widget.subscriptionOnly?e._e():[i("div",{staticClass:"ocu-selection-container ocu-section-offset--bottom"},[i("input",{ref:"onetime",staticClass:"ocu-subscriptions__radio",attrs:{id:"onetime",type:"radio",name:"subscription",value:"onetime"},domProps:{checked:"onetime"===e.selectedType},on:{change:e.changeType}}),e._v(" "),e.isInlineTextEditorEligible||e.isDynamicOffer?i("div",{class:e.highlightable},[i("label",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.onetimeLabel,expression:"onetimeLabel"}],staticClass:"ocu-editable-label",class:e.editableClasses,style:e.onetimeStyles,attrs:{for:"onetime"},on:{click:function(t){return e.showDecorator("onetime")}}})]):i("Wysiwyg",{staticClass:"editable-label ocu-label--width",class:e.editableClasses,attrs:{content:e.onetimeContent,editable:e.editMode,limit:30,isEmptyValidation:!0,toolbarWidth:"ocu-toolbar--wide ocu-toolbar--pre",type:"pre",layoutType:"SUBSCRIPTION",fieldName:"subscription"},on:{"save:content":function(t){return e.saveWysiwyg(Object.assign({},t,{type:"onetime"}))}},nativeOn:{click:function(t){return e.changeTypeClick("onetime")}}})],1),e._v(" "),i("div",{staticClass:"ocu-selection-container",class:{"ocu-section-offset--bottom":e.widget.subscriptionOnly}},[i("input",{ref:"subscription",staticClass:"ocu-subscriptions__radio",attrs:{id:"subscription",type:"radio",name:"subscription",value:"subscription"},domProps:{checked:e.widget.subscriptionOnly||e.isDynamicEditPreview},on:{change:e.changeType}}),e._v(" "),e.isInlineTextEditorEligible||e.isDynamicOffer?i("div",{class:e.highlightable},[i("label",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.subscriptionLabel,expression:"subscriptionLabel"}],staticClass:"ocu-editable-label",class:e.editableClasses,style:e.subscriptionStyles,attrs:{for:"subscription"},on:{click:function(t){return e.showDecorator(e.subscriptionType)}}})]):i("div",{staticClass:"ocu-save-block"},[i("Wysiwyg",{staticClass:"editable-label ocu-label--width ocu-save-lable",class:e.editableClasses,attrs:{content:e.subscribeContent,editable:e.editMode,limit:30,isEmptyValidation:!0,toolbarWidth:"ocu-toolbar--wide ocu-toolbar--pre",type:"pre",layoutType:"SUBSCRIPTION",fieldName:"subscription"},on:{"save:content":function(t){return e.saveWysiwyg(Object.assign({},t,{type:"subscribe_and_save"}))}},nativeOn:{click:function(t){return e.changeTypeClick("subscription")}}}),e._v(" "),i("Wysiwyg",{staticClass:"editable-label ocu-discount--width",class:e.editableClasses,attrs:{content:e.discountContent,editable:e.editMode,readOnly:!0,isDecorator:"",toolbarWidth:"ocu-toolbar--wide ocu-toolbar--pre",type:"pre",layoutType:"SUBSCRIPTION_DISCOUNT",fieldName:"subscription"},on:{"save:content":function(t){return e.saveContent(Object.assign({},t))}},nativeOn:{click:function(t){return e.changeTypeClick("subscription")}}})],1)])],e._v(" "),e.showSubscriptionOptions?[e.isInlineTextEditorEligible||e.isDynamicOffer?i("label",{staticClass:"ocu-subscriptions__range-label ocu-label--width",class:{"label-additional-margin":e.labelAdditionalMargin},style:e.selectWidth,attrs:{for:"range"}},[i("span",{staticClass:"width--fit-content",class:e.highlightable},[i("span",{staticClass:"ocu-subscriptions__delivery",class:e.editableClasses,on:{click:function(t){return e.showDecorator("subscription_plan")}}},[e._v("\n                        "+e._s(e.rangeTitle)+"\n                    ")])]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlan,expression:"selectedPlan"}],staticClass:"ocu-subscriptions__range",attrs:{id:"range","data-testid":"range"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedPlan=t.target.multiple?i:i[0]},e.changePlan]}},e._l(e.plans,(function(t,s){return i("option",{key:s,domProps:{value:t.value}},[e._v("\n                        "+e._s(t.name)+"\n                    ")])})),0)]):i("div",[i("Wysiwyg",{staticClass:"ocu-subscriptions__delivery ocu-label--width",class:[e.editableClasses,{"label-additional-margin":e.labelAdditionalMargin}],attrs:{content:e.deliveryContent,editable:e.editMode,limit:30,isEmptyValidation:!0,type:"pre",layoutType:"SUBSCRIPTION_LABLE",fieldName:"subscription"},on:{"save:content":function(t){return e.saveWysiwyg(Object.assign({},t,{type:"subscription_plan"}))}}}),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlan,expression:"selectedPlan"}],staticClass:"ocu-subscriptions__range label-additional-margin",attrs:{id:"range","data-testid":"range"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedPlan=t.target.multiple?i:i[0]},e.changePlan]}},e._l(e.plans,(function(t,s){return i("option",{key:s,domProps:{value:t.value}},[e._v("\n                        "+e._s(t.name)+"\n                    ")])})),0)],1)]:e._e(),e._v(" "),e.isShowWysPopup?i("div",{class:[e.highlightable,{"label-additional-margin":e.labelAdditionalMargin}]},[e.widget.prepaid?i("h4",{staticClass:"ocu-subscriptions__only",class:e.editableClasses,on:{click:function(t){return e.showDecorator("pre_paid_subscription")}}},[e._v("\n                "+e._s(e.prepaidLabel)+"\n            ")]):i("h4",{staticClass:"ocu-subscriptions__only",class:e.editableClasses,on:{click:function(t){return e.showDecorator("subscription_only")}}},[e._v("\n                "+e._s(e.subscriptionsOnlyLabel)+"\n            ")])]):e._e(),e._v(" "),e.isShowIteWys?i("Wysiwyg",{staticClass:"ocu-subscriptions__only ocu-label--width",class:[e.editableClasses,{"label-additional-margin":e.labelAdditionalMargin}],attrs:{content:e.labelContent,editable:e.editMode,isSubscribeVariables:!0,limit:80,isEmptyValidation:!0,type:"pre",layoutType:"SUBSCRIPTION_DESCRIPTION",fieldName:"subscription_description"},on:{"save:content":function(t){return e.saveWysiwyg(Object.assign({},t,{type:e.subscribeLabelType}))}}}):e._e()],2)])}),[],!1,null,"54729ff0",null).exports},props:{product:{type:Object,required:!0},currentComponent:{type:String,required:!0,validator:e=>["Incart","Upgrade"].includes(e)},isInlineTextEditorEligible:Boolean},computed:N(N({},(0,r.Se)({isMobileView:"".concat(o.Fm,"/isMobileView"),isTabletView:"".concat(o.Fm,"/isTabletView"),isDynamicOffer:"".concat(o.Fm,"/isDynamicOffer"),widget:"".concat(o.Fm,"/subscriptionApp"),settings:"".concat(o.Fm,"/representation")})),{},{responsiveClasses(){return[{"ocu-modal__hero-content-tablet":this.isTabletView},{"ocu-modal__hero-content-mobile":this.isMobileView}]},showSubscription(){var e,t,i;return(null===(e=this.settings.offer)||void 0===e?void 0:e.allow_subscription)&&(null===(t=this.widget)||void 0===t?void 0:t.subscribeOptions.length)||(null===(i=this.widget)||void 0===i?void 0:i.subscriptionOnly)}})},B=(0,p.Z)(L,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ocu-modal__hero-content",class:e.responsiveClasses},[i("ProductTitle",{attrs:{currentComponent:e.currentComponent,isInlineTextEditorEligible:e.isInlineTextEditorEligible}}),e._v(" "),i("div",{staticClass:"ocu-mobile__container"},[i("Description",{attrs:{product:e.product,isInlineTextEditorEligible:e.isInlineTextEditorEligible}}),e._v(" "),i("PriceBreakdown",{attrs:{isInlineTextEditorEligible:e.isInlineTextEditorEligible}})],1),e._v(" "),i("Variants",{attrs:{product:e.product}}),e._v(" "),e.showSubscription?i("SubscriptionWidget",{attrs:{isInlineTextEditorEligible:e.isInlineTextEditorEligible}}):e._e(),e._v(" "),i("HeroQuantity",{attrs:{isInlineTextEditorEligible:e.isInlineTextEditorEligible}})],1)}),[],!1,null,null,null).exports;function Z(){var e={youtube:"https://www.youtube.com/iframe_api",vimeo:"https://player.vimeo.com/api/player.js"};this.init=t=>{var i=document.querySelector("body");t.forEach((t=>{var s=e[t],n=document.createElement("script");n.src=s,i.appendChild(n)}))}}const H={name:"Icon",props:{iconName:{type:String},iconTitle:{type:String},iconClass:{type:[String,Array],default:""}},computed:{iconId(){return"#".concat(this.iconName)}}},U=(0,p.Z)(H,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.iconTitle,targetClasses:[e.iconClass,"icon"]},expression:"{ content: iconTitle, targetClasses: [iconClass, 'icon'] }"}],class:e.iconClass},[i("use",e._b({attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink"}},"use",{"xlink:href":e.iconId},!1))])}),[],!1,null,"f4668526",null).exports,q={name:"BrokenSource",props:{type:{type:String,default:"carousel"}}},z=(0,p.Z)(q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{class:"ocu-broken--"+e.type,attrs:{width:"40",height:"52",viewBox:"0 0 40 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M9.73769 26.5678L1.25 23.3991V2C1.25 1.58579 1.58579 1.25 2 1.25H23.7613C24.2241 1.25 24.668 1.43331 24.9959 1.75981L38.2347 14.9397C38.5646 15.2681 38.75 15.7144 38.75 16.1799V23.381L29.6675 26.5723C29.4966 26.6324 29.3097 26.6285 29.1414 26.5615L21.1792 23.3908C20.4296 23.0923 19.5959 23.0833 18.8401 23.3654L10.2623 26.5678C10.0931 26.631 9.90686 26.631 9.73769 26.5678Z",stroke:"#C2C8D1","stroke-width":"2.5"}}),e._v(" "),i("path",{attrs:{d:"M1.25 50V29.8659L8.76343 32.9572C9.5556 33.2831 10.4444 33.2831 11.2366 32.9572L19.6894 29.4795C19.8778 29.4019 20.0896 29.4044 20.2762 29.4863L28.1167 32.9271C28.9035 33.2724 29.795 33.2921 30.5963 32.9818L38.75 29.8245V50C38.75 50.4142 38.4142 50.75 38 50.75H25.625H2C1.58579 50.75 1.25 50.4142 1.25 50Z",stroke:"#C2C8D1","stroke-width":"2.5"}})])}),[],!1,null,"7a78eeef",null).exports;function R(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?R(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const Y={name:"ImageCarousel",components:{Icon:U,VideoIcon:(0,p.Z)({name:"VideoIcon"},(function(e,t){var i=t._c;return i("svg",{staticClass:"carousel__video-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[i("g",[i("g",[i("path",{staticClass:"cls-1",attrs:{d:"M22,12A10,10,0,1,1,12,2,10,10,0,0,1,22,12Zm2,0A12,12,0,1,1,12,0,12,12,0,0,1,24,12Zm-8.8-.1L10,14.73V9.06ZM8,7.37v9.05a1,1,0,0,0,1.48.88l8.28-4.53a1,1,0,0,0,0-1.75L9.48,6.49A1,1,0,0,0,8,7.37Z"}})])])])}),[],!0,null,"4923b4c8",null).exports,BrokenSource:z},props:{media:{type:Array,required:!0,validator:e=>0!==e.length},selectedVariant:{type:Object,validator:e=>0!==Object.entries(e).length},product:{type:Object,required:!0,validator:e=>0!==Object.entries(e).length}},data:()=>({swiperOptions:{slidesPerView:5,loop:!0,spaceBetween:8,slideToClickedSlide:!0,navigation:{nextEl:".ocu-next",prevEl:".ocu-prev"},centeredSlides:!0,mousewheel:{invert:!0},keyboard:{enabled:!0,onlyInViewport:!1,pageUpDown:!0}},broken:[]}),mounted(){this.initWrapperStyle(),this.initSlidesPerView(),this.initEventListeners(),this.updateSlider()},beforeDestroy(){this.swiper.destroy(!0,!0)},computed:Q(Q(Q({},(0,r.rn)({isChangeFromCarousel:e=>e[o.Fm].isChangeFromCarousel,isAnyEditorOpened(e){var t;return null===(t=e.wysiwyg)||void 0===t?void 0:t.isAnyEditorOpened}})),(0,r.Se)({isTabletView:"".concat(o.Fm,"/isTabletView"),isMobileView:"".concat(o.Fm,"/isMobileView")})),{},{swiper(){return this.$refs.mySwiper.$swiper},widthClasses(){return[{"ocu-two-items":2===this.media.length},{"ocu-three-items":3===this.media.length},{"ocu-four-items":4===this.media.length},{"ocu-device":this.isTabletView||this.isMobileView}]},imageClasses(){return{"ocu-carousel__img-plug":this.isImagePlug}},isImagePlug(){return this.media.every((e=>null==e?void 0:e.plug))},calculateSlidesPerView(){return this.media.length>=5?5:this.media.length},getVariantIndex(){return this.media.findIndex((e=>{var t;return null===(t=e.variant_ids)||void 0===t?void 0:t.includes(this.selectedVariant.id)}))}}),watch:{selectedVariant:{deep:!0,handler(){if(-1===this.getVariantIndex)return this.noVariantImage();this.swipeTo(this.getVariantIndex),this.slideChange(this.swiper),this.swiper.update()}},media:{handler(){this.initSlidesPerView(),this.updateSlider()}},isAnyEditorOpened(){this.swiper.keyboard[this.isAnyEditorOpened?"disable":"enable"]()}},methods:{initWrapperStyle(){var e;null===(e=[...document.querySelectorAll(".swiper-wrapper")])||void 0===e||e.forEach((e=>e.style.alignItems="center"))},initSlidesPerView(){this.swiper.params.slidesPerView=this.calculateSlidesPerView},initEventListeners(){this.swiper.init(this.slideChange(this.swiper)),this.swiper.on("slideChange",this.slideChange),this.swiper.on("update",this.slideChange)},isVideoThumbnail:e=>["VIDEO","EXTERNAL_VIDEO"].includes(null==e?void 0:e.content_type),getMediaSrc(e){var t=e.preview;return this.isVideoThumbnail(e)?t.image?t.image.url:t.url:e.src},setBroken(e){this.broken.push(e.id),this.broken=[...new Set(this.broken)]},isBroken(e){return this.broken.includes(e.id)},updateSlider(){this.swiper.updateSlidesClasses(),this.swiper.updateSlides(),this.swipeTo(0)},slideChange(e){var{slides:t,activeIndex:i}=e;t.forEach(((e,t)=>{if(t===i){var s=this.media[+e.dataset.index];s.broken=this.isBroken(s),this.$emit("change:source",s)}}))},swipeTo(e){this.swiper.slideToLoop(e,500)},slideNext(){this.swiper.slideNext(500)},slidePrev(){this.swiper.slidePrev(500)},noVariantImage(){var e,t=null!==(e=this.$parent.shopifyImage)&&void 0!==e?e:this.$parent.customImage;this.swipeTo(0),this.$emit("change:source",t)},commit(e){this.$store.commit("".concat(o.Fm,"/setValueChangeVariantSwitcher"),e)}}},G=(0,p.Z)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("swiper",{ref:"mySwiper",class:e.widthClasses,attrs:{options:e.swiperOptions}},e._l(e.media,(function(t,s){return i("swiper-slide",{key:t.id+""+t.alt+s,staticClass:"ocu-carousel__item",class:e.widthClasses,attrs:{"data-index":s}},[e.isBroken(t)?i("broken-source",{class:e.imageClasses}):i("img",{staticClass:"ocu-carousel__img",class:e.imageClasses,attrs:{src:e.getMediaSrc(t),alt:t.alt,"data-testid":"carousel__img"},on:{error:function(i){return e.setBroken(t)}}}),e._v(" "),e.isVideoThumbnail(t)?i("video-icon"):e._e()],1)})),1),e._v(" "),i("button",{staticClass:"ocu-prev",class:e.widthClasses,attrs:{"aria-label":"Previous image","data-testid":"prev_button"}},[i("span",[i("icon",{staticClass:"ocu-prev__arrow",attrs:{"icon-name":"arrow_carousel_left"}})],1)]),e._v(" "),i("button",{staticClass:"ocu-next",class:e.widthClasses,attrs:{"aria-label":"Next Image","data-testid":"next_button"}},[i("span",[i("icon",{staticClass:"ocu-next__arrow",attrs:{"icon-name":"arrow_carousel_right"}})],1)])],1)}),[],!1,null,"1f4fd325",null).exports,K={name:"VideoPlayer",props:{source:{type:Object}},computed:{aspect(){var{width:e,height:t}=this.source.original_source;return e/t},width(){return this.aspect>=1?100:100*this.aspect},height(){var e=(this.width,this.aspect);return e=this.aspect<1?100:this.width/this.aspect,"".concat(e,"%")},styles(){return{width:"".concat(this.width,"%"),height:this.height}},poster(){var e,t,i;return(null===(e=this.source.preview)||void 0===e||null===(t=e.image)||void 0===t?void 0:t.url)||(null===(i=this.source.preview)||void 0===i?void 0:i.url)}}},X=(0,p.Z)(K,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("video",{staticClass:"ocu-container__video",style:e.styles,attrs:{controls:"controls",preload:"none",muted:"muted",playsinline:"playsinline",poster:e.poster},domProps:{muted:!0}},e._l(e.source.sources,(function(e,t){return i("source",{key:t,attrs:{src:e.url,type:e.mimeType}})})),0)}),[],!1,null,null,null).exports,J={name:"YoutubePlayer",props:{source:{type:Object}},data:()=>({player:null}),computed:{aspect(){var e;return(null===(e=this.source)||void 0===e?void 0:e.aspect_ration)||1.6},width(){return this.aspect>=1?100:100*this.aspect},height(){var e=(this.width,this.aspect);return e=this.aspect<1?100:this.width/this.aspect,"".concat(e,"%")},videoId(){var e,t;return null===(t=((null===(e=this.source.src.split("/"))||void 0===e?void 0:e[3])||this.source.src).split("?"))||void 0===t?void 0:t[0]}},mounted(){window.onYouTubeIframeAPIReady=()=>{var e,t;null!==(e=window)&&void 0!==e&&null!==(t=e.YT)&&void 0!==t&&t.Player&&(this.player=new YT.Player("ocu-player",{width:"100%",height:this.height,videoId:this.videoId,playerVars:{playsinline:1}}))},window.onYouTubeIframeAPIReady()},destroyed(){var e;null===(e=this.player)||void 0===e||e.destroy()}},ee=(0,p.Z)(J,(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"ocu-player"}})}),[],!1,null,null,null).exports,te={name:"VimeoPlayer",props:{source:{type:Object}},data:()=>({player:null,width:345,playerLoadAttempts:0}),computed:{aspect(){var e;return(null===(e=this.source)||void 0===e?void 0:e.aspect_ration)||1.6},height(){return this.aspect<1?100:this.width/this.aspect},getWidth(){var e;return(null===(e=this.$refs.ocuPlayerContainer)||void 0===e?void 0:e.offsetWidth)||345}},mounted(){this.loadPlayer()},created(){window.addEventListener("resize",(()=>{this.width=this.getWidth,this.player.element.width=this.width,this.player.element.height=this.height}))},destroyed(){var e;null===(e=this.player)||void 0===e||e.destroy()},methods:{loadPlayer(){var e;++this.playerLoadAttempts>200||(null!==(e=window.Vimeo)&&void 0!==e&&e.Player?(this.width=this.getWidth,this.player=new Vimeo.Player("ocu-player",{url:this.source.src,width:this.width,title:!1,byline:!1})):setTimeout(this.loadPlayer,50))}}},ie=(0,p.Z)(te,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"ocuPlayerContainer",staticClass:"ocu-container__video"},[t("div",{attrs:{id:"ocu-player"}})])}),[],!1,null,"1aad77be",null).exports,se={name:"VideoWrapper",props:{source:{type:Object}},components:{VideoPlayer:X,YoutubePlayer:ee,VimeoPlayer:ie,BrokenSource:z},data:()=>({forceRecreate:!0}),watch:{source:{handler(){this.forceUpdate()}}},computed:{host(){var e,t;return null===(e=this.source)||void 0===e||null===(t=e.host)||void 0===t?void 0:t.toLowerCase()},currentPlayer(){return{youtube:ee,vimeo:ie}[this.host]||X},videoClass(){return{"ocu-video--broken":this.source.broken}}},methods:{forceUpdate(){this.forceRecreate=!1,this.$nextTick((()=>{this.forceRecreate=!0}))}}},ne=(0,p.Z)(se,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.forceRecreate?i("section",{staticClass:"ocu-video",class:e.videoClass},[e.source.broken?i("broken-source",{attrs:{type:"image"}}):i(e.currentPlayer,{tag:"component",attrs:{source:e.source}})],1):e._e()}),[],!1,null,"669658c6",null).exports,re={name:"IncartImage",props:{image:{type:String},title:{type:String,required:!0,validator:e=>0!==e.length},editMode:{type:Boolean,required:!0},slideNextCondition:{type:Array,required:!0,validator:e=>0!==e.length}},methods:{onClick(){this.slideNextCondition.includes(!0)&&this.$emit("slide:next"),this.editMode&&(this.$emit("show:tab"),this.$proxy.publish("buybox:render"))}}},oe=(0,p.Z)(re,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("figure",[i("img",{staticClass:"ocu-image__large ocu-contain",attrs:{src:e.image,alt:e.title,tabindex:"0","data-testid":"incart-image"},on:{click:e.onClick}})])}),[],!1,null,"426f96c6",null).exports;function ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function le(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ce={url:"https://d1u9wuqimc88kc.cloudfront.net/content/stubs/trigger_placeholder.png",alt:"Replacing image"},ue=(e,t)=>({mobile:{large:t?"100%":265,medium:240,small:t?160:200},tablet:{large:t?302:245,medium:240,small:t?160:200},desktop:{large:t?345:290,medium:240,small:t?160:200}}[e]);const de={name:"HeroImage",props:{currentComponent:{type:String,required:!0,validator:e=>["Incart","Upgrade"].includes(e)},isInlineTextEditorEligible:Boolean},components:{ImageCarousel:G,VideoWrapper:ne,IncartImage:oe,Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},data:()=>({currentMedia:{},config:[],isTouchDevice:!1,touchStartCoord:null}),created(){this.isTouchDevice=this.hasTouchDevice,this.videoHosts&&(new Z).init(this.videoHosts)},computed:le(le(le({},(0,r.Se)({isTabletView:"".concat(o.Fm,"/isTabletView"),editableClasses:"".concat(o.Fm,"/editableClasses"),highlightable:"".concat(o.Fm,"/highlightable"),isPreviewMode:"".concat(o.Fm,"/isPreviewMode"),isMobileView:"".concat(o.Fm,"/isMobileView"),editMode:"".concat(o.Fm,"/editMode"),offerProducts:"".concat(o.Fm,"/offerProducts"),representation:"".concat(o.Fm,"/representation"),product:"".concat(o.Fm,"/product"),replacingVariant:"".concat(o.Fm,"/findReplaceVariant"),descriptionTitle:"".concat(o.Fm,"/descriptionTitle"),popupHeadline:"".concat(o.Fm,"/popupHeadline"),replacingProductTitle:"".concat(o.Fm,"/replacingProductTitle"),replacingProductImage:"".concat(o.Fm,"/replacingProductImage"),videoHosts:"".concat(o.Fm,"/presentVideoHosts")})),(0,r.rn)({images:e=>e[o.Fm].images,variant:e=>e[o.Fm].selectedVariant,builderImages(e){var t;return null===(t=e.singleUpsells)||void 0===t?void 0:t.media},liveImages:e=>e[o.Fm].carouselImages,liveVideos:e=>e[o.Fm].carouselVideos,isAnyEditorOpened(e){var t;return null===(t=e.wysiwyg)||void 0===t?void 0:t.isAnyEditorOpened}})),{},{heroSection(){return this.representation.hero_section},imageBorder(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.hero_section)||void 0===t?void 0:t.image_border},imageSize(){var e,t;return this.hasCarousel?"large":(null===(e=this.representation)||void 0===e||null===(t=e.hero_section)||void 0===t?void 0:t.image_size)||"medium"},heroImageConfig(){var e=this.imagesSizes()[this.imageSize],t={large:this.isIncartComponent?302:345,medium:this.isIncartComponent?240:296,small:this.isIncartComponent?160:256}[this.imageSize];return" ".concat("--image-size: ".concat(e).concat("string"==typeof e?"":"px",";"),"--hero-container: ".concat(t,"px;"))},incartImageWrapper(){return[this.borderClass,{"incart--mobile-large":this.isIncartComponent&&"large"===this.imageSize}]},upgradeArrowClasses(){return[{"ocu-upgrade__arrow-mobile":this.isMobileView},"ocu-arrow--offset-".concat(this.imageSize)]},upgradeHeroWrapperClass(){return"ocu-upgrade-image__wrapper--offset-".concat(this.imageSize)},upgradeReplacingClass(){return"ocu-replacing-image--offset-".concat(this.imageSize)},heroType(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.hero_section)||void 0===t?void 0:t.hero_section_type},allowedVariants(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t?void 0:t.variants},isHeroTypeNone(){return"none"===this.heroType},customImage(){var e,t,i=this.isPreviewMode?null===(e=this.images.hero_section)||void 0===e?void 0:e.image:null===(t=this.images.hero_section)||void 0===t?void 0:t.find((e=>"image"===e.kind));return null!=i&&i.delete||!i||this.isHeroTypeNone?{src:"".concat(o.G3,"/no_image_346x346.svg"),from_defaults:!0}:i},shopifyImage(){var e,t,i=this.variant&&(null===(e=this.variant)||void 0===e?void 0:e.featured_image);return"string"==typeof(i=i||this.product.featured_image)?i:null===(t=i)||void 0===t?void 0:t.src},availableVideos(){return this.isPreviewMode?this.previewVideos:this.liveVideos},mediaSource(){var e,t,i,s={};if("carousel"!==this.heroType)return{src:s=this.isHeroTypeNone&&this.shopifyImage?this.shopifyImage:this.customImage.src||this.customImage};var n=this.customImage.from_defaults&&this.availableVideos.length?this.currentMedia:this.customImage.src||this.customImage;return s=null!==(e={0:n,1:null!==(t=this.carouselData[0])&&void 0!==t?t:n}[this.carouselData.length])&&void 0!==e?e:this.currentMedia,s=this.currentMedia.content_type?this.currentMedia:s,"object"==typeof(s=null!==(i=Object.keys(s))&&void 0!==i&&i.length||1!==this.availableVideos.length?s:this.availableVideos[0])?s:{src:s}},replaceImage(){var e;return this.isPreviewMode?ce:null===(e=this.replacingVariant)||void 0===e?void 0:e.featured_image},replacingVariantName(){var e;return(null===(e=this.replacingVariant)||void 0===e?void 0:e.product_title)||this.replacingProductTitle||"TRIGGER PRODUCT"},replaceImageSource(){var e;return(null===(e=this.replaceImage)||void 0===e?void 0:e.url)||this.replacingProductImage||"".concat(o.G3,"/no_image.svg")},additionalClassForRelaceImage(){var e;return{"ocu-no-image":!(null!==(e=this.replaceImage)&&void 0!==e&&e.url)}},customImageTitle(){var e;return null===(e=this.heroSection.image)||void 0===e?void 0:e.title},shopifyImageTitle(){return this.variant&&this.variant.title},title(){var e;return null===(e=this.product)||void 0===e?void 0:e.title},classesIncart(){return[{"ocu-modal__incart-image":this.isIncartComponent},{"ocu-modal__incart-image-mobile":this.isMobileView},{"ocu-modal__incart-image-tablet":this.isTabletView}]},classesUpgrade(){return[{"ocu-modal__hero-image":!this.isIncartComponent},{"ocu-offset-right--xxl":!this.isMobileView},{"ocu-modal__hero-image-tablet":this.isTabletView},{"ocu-modal__hero-image-mobile":this.isMobileView}]},isIncartComponent(){return"Incart"===this.currentComponent},borderClass(){return{"ocu-image--bordered":this.imageBorder}},replacementProductTitle(){var e,t;return null===(e=this.representation)||void 0===e||null===(t=e.hero_section)||void 0===t?void 0:t.replace_product_title},mobileTitle(){return this.isIncartComponent?this.descriptionTitle:this.popupHeadline},inlineTitle(){return this.isIncartComponent?this.incartTitleContent:this.upgradeTitleContent},incartTitleContent(){var e,t,i;return this.editMode&&this.isAnyEditorOpened?(null===(e=this.representation)||void 0===e||null===(t=e.offer)||void 0===t||null===(i=t.inline_title)||void 0===i?void 0:i.inline_content)||this.descriptionTitle:this.incartWithOutVariables},upgradeTitleContent(){var e,t;return this.editMode&&this.isAnyEditorOpened?(null===(e=this.representation.headline)||void 0===e||null===(t=e.headline)||void 0===t?void 0:t.inline_content)||this.popupHeadline:this.upgradeWithOutVariables},incartWithOutVariables(){var e,t,i,s;return null!==(e=this.representation.offer)&&void 0!==e&&null!==(t=e.inline_title)&&void 0!==t&&t.inline_content?this.replaceText(null===(i=this.representation.offer)||void 0===i||null===(s=i.inline_title)||void 0===s?void 0:s.inline_content):this.descriptionTitle},upgradeWithOutVariables(){var e,t,i,s;return null!==(e=this.representation.headline)&&void 0!==e&&null!==(t=e.headline)&&void 0!==t&&t.inline_content?this.replaceText(null===(i=this.representation.headline)||void 0===i||null===(s=i.headline)||void 0===s?void 0:s.inline_content):this.popupHeadline},mobileImageContainer(){return[{"ocu-image__large-wrap-mobile":this.isMobileView},{"ocu-image__large-wrap-tablet":this.isTabletView}]},hasCarousel(){return"carousel"===this.heroType&&this.isIncartComponent&&this.carouselData.length>1},isDawnTheme:()=>!(!window.hasOwnProperty("Shopify")||void 0===window.Shopify||"Dawn"!==Shopify.theme.name),dawnThemeClasses(){return{"ocu-hero__backplate-block":this.isDawnTheme}},imageCarousel(){return this.$refs.carousel},hasTouchDevice:()=>!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints),checkBreakPoints:()=>window.matchMedia("(max-width: 767px)").matches,builderCondition(){var e=[this.isTabletView,this.isMobileView];return["carousel"===this.heroType,e.includes(!0)]},slideNextCondition(){return[this.checkBreakPoints,!this.builderCondition.includes(!1)]},emptyImageDataCondition(){var e,t;return["carousel"===this.heroType,!(null!==(e=this.liveImages)&&void 0!==e&&e.length),!(null!==(t=this.availableVideos)&&void 0!==t&&t.length)]},emptyImageDataPlug:()=>new Array(5).fill({src:"".concat(o.G3,"/no_image_346x346.svg"),alt:"Default image",plug:!0}),productVariantsArray(){return this.product.variants.map((e=>e.id))},imageData(){var e,t;if(!this.emptyImageDataCondition.includes(!1))return this.emptyImageDataPlug;var i=this.liveImages,s=this.isPreviewMode?null===(e=this.heroSection)||void 0===e?void 0:e.carousel.map(Number):null===(t=this.heroSection)||void 0===t?void 0:t.carousel;if(!Array.isArray(i))return[];var n=this.getVariantIntersection(i,this.allowedVariants);return this.getIdsIntersection(n,s)},previewVideos(){var e,t=null===(e=this.heroSection)||void 0===e?void 0:e.carousel_video.map(Number);return this.getIdsIntersection(this.liveVideos,t)},carouselData(){return[...this.imageData,...this.availableVideos]},isVideo(){return!!this.mediaSource.content_type&&"carousel"===this.heroSection.hero_section_type},headlineContent(){var e;return this.editMode&&this.isAnyEditorOpened?(null===(e=this.heroSection)||void 0===e?void 0:e.inline_content)||this.replacementProductTitle:this.contentWithOutVariables},contentWithOutVariables(){var e,t;return null!==(e=this.heroSection)&&void 0!==e&&e.inline_content?this.replaceText(null===(t=this.heroSection)||void 0===t?void 0:t.inline_content):this.replacementProductTitle}}),methods:{onClickHandler(){this.editMode&&(this._showTab(),this.$proxy.publish("buybox:render"),this.$proxy.publish("wysiwyg",{tab:"hero_section",type:"replace_product_title"}))},_showTab(){var e=this;return(0,s.Z)((function*(){e.editMode&&(yield e.$nextTick(),e.$proxy.publish("change:tab","buy box"))}))()},changeSource(e){this.currentMedia=e},touchstartHandler(e){this.isTouchDevice&&(this.touchStartCoord=e.changedTouches[0].clientX)},touchendHandler(e){if(this.isTouchDevice){var t=e.changedTouches[0].clientX-this.touchStartCoord;t>50&&this.imageCarousel.slidePrev(),t<-50&&this.imageCarousel.slideNext()}},getVariantIntersection(e,t){return[...new Set(e)].filter((e=>t.some((t=>e.variant_ids.includes(t)))||!e.variant_ids.length)).sort(((e,t)=>this.productVariantsArray.indexOf(e.variant_ids[0])-this.productVariantsArray.indexOf(t.variant_ids[0])))},getIdsIntersection:(e,t)=>[...new Set(e)].filter((e=>t.some((t=>t===e.id)))),imagesSizes(){var e,t;return this.isMobileView||null!==(e=this.$utils.userAgent)&&void 0!==e&&e.isMobile?ue("mobile",this.isIncartComponent):this.isTabletView||null!==(t=this.$utils.userAgent)&&void 0!==t&&t.isTablet?ue("tablet",this.isIncartComponent):ue("desktop",this.isIncartComponent)},saveWysiwyg(e){var{key:t,content:i}=e,s={section:"hero_section",data:{key:t,value:i}};this.$store.commit("singleUpsells/setSection",le({},s)),this.$proxy.publish("representation",s)},replaceText(e){return this.$utils.editorVariableFinder(e,"text",m.b,this.$store.state.singleUpsellsModule)}}};function pe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function he(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const me={name:"Offer",components:{HeroSection:B,HeroImage:(0,p.Z)(de,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.isIncartComponent?e.classesIncart:e.classesUpgrade,style:e.heroImageConfig},[e.isIncartComponent?i("div",{staticClass:"ocu-image__large-wrap--extended",class:e.incartImageWrapper,attrs:{"data-testid":"incart-image-wrapper"},on:{touchstart:e.touchstartHandler,touchend:e.touchendHandler}},[e.isVideo?i("video-wrapper",{attrs:{source:e.mediaSource}}):i("incart-image",{attrs:{image:e.mediaSource.src,title:e.title,editMode:e.editMode,slideNextCondition:e.slideNextCondition},on:{"slide:next":function(t){return e.imageCarousel.slideNext()},"show:tab":function(t){return e._showTab()}}})],1):i("div",{staticClass:"ocu-full__width",attrs:{"data-testid":"upgrade-image-wrapper"}},[i("div",{class:[e.isMobileView?"ocu-mobile-subtitle-mobile":"ocu-mobile-subtitle","ocu-text--normal"],attrs:{"data-testid":"upgrade-mobile-title-wrapper"}},[e.isInlineTextEditorEligible?i("h3",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.mobileTitle,expression:"mobileTitle"}],staticClass:"ocu-hero-content__title ocu-text--normal ocu-offset-bottom--xs"}):i("Wysiwyg",{staticClass:"ocu-offset-bottom--xs",class:e.editableClasses,attrs:{content:e.inlineTitle,editable:e.editMode,toolbarWidth:"ocu-toolbar--wide",type:"pre",layoutType:"PRODUCT_TITLE",fieldName:"headline",position:"centered",isEmptyValidation:!0},on:{"save:content":e.saveWysiwyg}})],1),e._v(" "),i("div",{class:e.isMobileView?"ocu-hero__container-mobile":"ocu-hero__container",attrs:{"data-testid":"upgrade-hero-container"}},[i("div",{class:e.isMobileView?"ocu-hero__replace-mobile":"ocu-hero__replace",attrs:{"data-testid":"upgrade-replace-container"}},[i("div",{staticClass:"ocu-hero__images"},[i("div",{staticClass:"ocu-image__offset-wrapper ocu-offset-right--xs",class:e.upgradeReplacingClass},[i("div",{staticClass:"ocu-image-small__wrapper ocu-align--center ocu-justify--center",class:e.borderClass,attrs:{"data-testid":"upgrade-image-small-wrapper"}},[i("img",{staticClass:"ocu-image-small",class:e.additionalClassForRelaceImage,attrs:{src:e.replaceImageSource,alt:e.replaceImage&&e.replaceImage.alt||"no image",tabindex:"0","data-testid":"upgrade-image-replace"}})])]),e._v(" "),i("div",{staticClass:"ocu-hero__backplate",class:[e.isMobileView?"ocu-hero__backplate-mobile":"ocu-hero__backplate",e.dawnThemeClasses],attrs:{"data-testid":"upgrade-backplate"}}),e._v(" "),i("div",{staticClass:"ocu-image__large-wrap",class:[e.borderClass,e.mobileImageContainer,e.upgradeHeroWrapperClass],attrs:{"data-testid":"upgrade-image-large-wrapper"}},[i("svg",{staticClass:"ocu-upgrade__arrow",class:e.upgradeArrowClasses,attrs:{viewBox:"0 0 31 41",xmlns:"http://www.w3.org/2000/svg","data-testid":"upgrade-svg"}},[i("g",[i("path",{staticClass:"st0",attrs:{d:"M30.3,35l-4.5-7.8c-0.2-0.3-0.6-0.5-1-0.3c-0.3,0.2-0.5,0.6-0.3,1l3.7,6.4c-12.8-3-21.1-8.2-24.6-15.5\n                                    C-0.7,10.1,3.6,1.3,3.7,1.2c0.2-0.4,0-0.8-0.3-1c-0.4-0.2-0.8,0-1,0.3C2.2,0.9-2.3,10,2.3,19.4c3.7,7.6,12.2,13,25.2,16.2L21,38.8\n                                    c-0.4,0.2-0.5,0.6-0.3,1c0.1,0.2,0.3,0.3,0.5,0.4c0.2,0,0.3,0,0.5-0.1L30,36c0.2-0.1,0.3-0.2,0.4-0.4C30.4,35.4,30.4,35.1,30.3,35z"}})])]),e._v(" "),i("div",{attrs:{"data-image-wrap":""}},[i("img",{staticClass:"ocu-image__large",attrs:{src:e.mediaSource.src,alt:e.shopifyImageTitle,tabindex:"0","data-testid":"upgrade-image-large"}})])])]),e._v(" "),i("div",{staticClass:"ocu-hero__title",class:e.isMobileView?"ocu-hero__title-mobile":"ocu-hero__title",attrs:{"data-testid":"upgrade-hero-title"}},[i("span",{staticClass:"ocu-replace__block",class:[e.isMobileView?"ocu-replace__block-mobile":"ocu-replace__block",{highlightable:e.isInlineTextEditorEligible}],attrs:{"data-testid":"upgrade-replace-block"}},[e.isInlineTextEditorEligible?i("h4",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.replacementProductTitle,expression:"replacementProductTitle"}],staticClass:"ocu-image__title",class:e.editableClasses,attrs:{tabindex:"0","data-testid":"upgrade-replace-header"},on:{click:e.onClickHandler}}):i("Wysiwyg",{staticClass:"ocu-image__title",class:e.editableClasses,attrs:{content:e.headlineContent,editable:e.editMode,toolbarWidth:"ocu-toolbar--wide",type:"pre",layoutType:"HEADLINE",fieldName:"headline"},on:{"save:content":e.saveWysiwyg}}),e._v(" "),i("p",{staticClass:"ocu-image__name",attrs:{tabindex:"0"}},[e._v("\n                            "+e._s(e.replacingVariantName)+"\n                        ")])],1),e._v(" "),i("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.replacementProductTitle,expression:"replacementProductTitle"}],staticClass:"ocu-replace-product__tooltip ocu-hidden",attrs:{tabindex:"0"}})])])])]),e._v(" "),e.hasCarousel?i("image-carousel",{ref:"carousel",attrs:{media:e.carouselData,selectedVariant:e.variant,product:e.product},on:{"change:source":e.changeSource}}):e._e()],1)}),[],!1,null,"32dec4e5",null).exports},props:{product:{type:Object,required:!0},opacity:{type:Boolean},currentComponent:{type:String,required:!0,validator:e=>["Incart","Upgrade"].includes(e)},isInlineTextEditorEligible:Boolean},computed:he(he({},(0,r.Se)({isMobileView:"".concat(o.Fm,"/isMobileView"),offerReferenceIds:"".concat(o.Fm,"/offerReferenceIds"),tracking:"".concat(o.Fm,"/tracking"),editMode:"".concat(o.Fm,"/editMode"),editableClasses:"".concat(o.Fm,"/editableClasses"),isPreviewMode:"".concat(o.Fm,"/isPreviewMode"),timer:"".concat(o.Fm,"/timer")})),{},{sectionClasses(){var e,t;return[{"ocu-offer-section__container":this.opacity?this.editableClasses:""},{"ocu-modal__hero-section-mobile":!!this.isMobileView},{"ocu-no-padding-top":!this.timer.enabled&&(this.isMobileView||(null===(e=this.$utils)||void 0===e||null===(t=e.userAgent)||void 0===t?void 0:t.isMobile))}]},modalMobileStyle(){return{width:this.isMobileView?"100%":""}}}),mounted(){this.$store.commit("".concat(o.Fm,"/trackingOffer"),{index:this.index,id:this.offerReferenceIds[this.index],height:this.$el.offsetHeight,top:this.$el.offsetTop,isInViewport:!1,tracked:!1})},methods:{onClick(){var e=this;return(0,s.Z)((function*(){e.editMode&&(yield e.$nextTick(),e.$proxy.publish("change:tab","buy box"))}))()}}},ve=(0,p.Z)(me,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"ocu-modal__hero-section ocu-flex--between",class:[e.sectionClasses],on:{click:e.onClick}},[i("HeroImage",{attrs:{currentComponent:e.currentComponent,isInlineTextEditorEligible:e.isInlineTextEditorEligible}}),e._v(" "),i("div",{staticClass:"ocu-modal__main",style:[e.modalMobileStyle]},[i("HeroSection",{attrs:{product:e.product,currentComponent:e.currentComponent,isInlineTextEditorEligible:e.isInlineTextEditorEligible}})],1)],1)}),[],!1,null,null,null).exports}}]);