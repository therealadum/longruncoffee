"use strict";(globalThis.zipifyJsonp=globalThis.zipifyJsonp||[]).push([[252],{18927:(t,e,i)=>{i.r(e),i.d(e,{default:()=>nt});var n=i(86353),s=i(17048),r=i(44949),o=i(49738);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const c={name:"ProductTitle",components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},props:{index:Number,isInlineTextEditorEligible:Boolean},computed:l(l({},(0,s.Se)({offers:"".concat(r.Fm,"/offers"),offerData:"".concat(r.Fm,"/offerProducts"),editableClasses:"".concat(r.Fm,"/editableClasses"),highlightable:"".concat(r.Fm,"/highlightable"),editMode:"".concat(r.Fm,"/editMode")})),{},{title(){var t;return null===(t=this.offers[this.index])||void 0===t?void 0:t.product_title},titleContent(){var t,e;return(null===(t=this.offers[this.index])||void 0===t||null===(e=t.inline_product_title)||void 0===e?void 0:e.inline_content)||this.title},upgradeWithOutVariables(){var t,e,i,n;return null!==(t=this.offers[this.index])&&void 0!==t&&null!==(e=t.inline_product_title)&&void 0!==e&&e.inline_content?this.replaceText(null===(i=this.offers[this.index])||void 0===i||null===(n=i.inline_product_title)||void 0===n?void 0:n.inline_content):this.title},offerId(){return this.offerData[this.index].offer_id}}),methods:{onClick(){if(this.editMode){var t={tab:"offers",type:"product_title",index:this.index,id:this.offerId};this.$proxy.publish("buybox:render",this.index),this.$proxy.publish("wysiwyg",t)}},saveWysiwyg(t){var{key:e,content:i}=t,n={section:"offers",data:{key:"inline_product_title",value:{[e]:i},index:this.index,id:this.offerId}};this.$store.commit("multipleUpsells/setSection",l({},n)),this.$proxy.publish("MultipleRepresentation",n)},replaceText(t){return this.$utils.editorVariableFinder(t,"text",o.Z,this.$store.state.multipleUpsellsModule,this.offerId)}}};var d=i(87119);const u=(0,d.Z)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isInlineTextEditorEligible?i("div",{class:t.highlightable},[i("h3",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.title,expression:"title"}],staticClass:"ocu-upsell-title",class:t.editableClasses,attrs:{tabindex:"0"},on:{click:t.onClick}})]):i("Wysiwyg",{class:t.editableClasses,attrs:{tabindex:"0",offerIndex:t.index,content:t.titleContent,contentWithoutVariables:t.upgradeWithOutVariables,editable:t.editMode,isEmptyValidation:!0,toolbarWidth:"ocu-toolbar--wide",type:"pre",hasPortal:!0,position:"centered",layoutType:"HEADLINE_TITLE",fieldName:"headline"},on:{"save:content":t.saveWysiwyg}})}),[],!1,null,"5c084f5e",null).exports;var p=i(95744);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const b={name:"PriceBreakdown",props:{index:Number,isInlineTextEditorEligible:Boolean},components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},computed:f(f(f({},(0,s.Se)({offers:"".concat(r.Fm,"/offerProducts"),offerData:"".concat(r.Fm,"/offers"),editableClasses:"".concat(r.Fm,"/editableClasses"),editMode:"".concat(r.Fm,"/editMode"),highlightable:"".concat(r.Fm,"/highlightable"),isMobileView:"".concat(r.Fm,"/isMobileView")})),(0,s.rn)({moneyFormat:t=>t[r.Fm].moneyFormat,currencyCode:t=>t[r.Fm].currencyCode})),{},{offer(){var t;return null===(t=this.offers)||void 0===t?void 0:t[this.index]},discount(){return this.offerData[this.index].discount},variant(){var t;return null===(t=this.offer)||void 0===t?void 0:t.variant},savingsEnabled(){var t;return null===(t=this.offerData[this.index])||void 0===t?void 0:t.savings.enabled},savingsText(){var t;return null===(t=this.offerData[this.index])||void 0===t?void 0:t.savings.text},prices(){return p.Z.countPrices(this.discount,this.offer.prices,this.moneyFormat,this.currencyCode)},nowPrice(){return this.isDiscounted?this.prices.discountedPrice:this.prices.price},discountType(){var t;return null===(t=this.discount)||void 0===t?void 0:t.type},isDiscounted(){var t,e;return!!("none"!==this.discountType&&null!==(null===(t=this.prices)||void 0===t?void 0:t._discountedPrice)&&(null===(e=this.prices)||void 0===e?void 0:e._discountedPrice)>=0)},showSavings(){return this.isDiscounted&&this.savingsEnabled},savingsAmount(){var t=this.discount.value>100?100:this.discount.value;return"percent"===this.discount.type?"".concat(t,"%"):this.prices.savings},savings(){return"(".concat(this.savingsAmount," ").concat(this.savingsText,")")},savingsSettings(){return this.offerData[this.index].savings},savingsStyles(){return{color:this.savingsSettings.color,fontSize:this.savingsSettings.size,fontStyle:this.savingsSettings.italic,fontWeight:this.savingsSettings.emphasized?"700":"400",fontFamily:this.savingsSettings.font,textDecoration:this.savingsSettings.underline}},savingsAmountSettings(){return this.offerData[this.index].savings_amount},savingsAmountStyles(){return{color:this.savingsAmountSettings.color,fontSize:this.savingsAmountSettings.size,fontStyle:this.savingsAmountSettings.italic,fontWeight:this.savingsAmountSettings.emphasized?"700":"400",fontFamily:this.savingsAmountSettings.font,textDecoration:this.savingsAmountSettings.underline}},savingsContent(){var{savingsAmount:t,savingsAmountStyles:e}=this,{color:i,fontSize:n,fontFamily:s,fontWeight:r,fontStyle:o,textDecoration:a}=e;return'\n                <div style="color: '.concat(i,"; font-weight: ").concat(r,"; font-size: ").concat(n,"; font-style: ").concat(o,"; font-family: ").concat(s,"; text-decoration: ").concat(a,'">\n                    ').concat(t,"\n                </div>\n            ")},labelContent(){var{savingsText:t,savingsStyles:e}=this,{color:i,fontSize:n,fontFamily:s,fontWeight:r,fontStyle:o,textDecoration:a}=e,l='\n                <div style="color: '.concat(i,"; font-weight: ").concat(r,"; font-size: ").concat(n,"; font-style: ").concat(o,"; font-family: ").concat(s,"; text-decoration: ").concat(a,'">\n                    ').concat(t,"\n                </div>\n            ");return this.savingsSettings.inline_content||l}}),watch:{nowPrice(){this.$store.commit("".concat(r.Fm,"/setPrices"),{index:this.index,prices:this.prices})}},methods:{onClick(){if(this.editMode){var t={tab:"offers",text:!0,type:"savings",index:this.index,id:this.offers[this.index].offer_id};this.$proxy.publish("buybox:render",this.index),this.$proxy.publish("decorator",t)}},saveContent(t){var e,{key:i,content:n,isClearFormatting:s=!1,type:r,sizes:o}=t;if(s)return this.clearFormatting(n,r);"size"===i&&(e="".concat(o[n],"px"));var a={section:"offers",data:{key:r,value:f(f({},this.offerData[this.index][r]),{},{[i]:e||n}),index:this.index,id:this.offers[this.index].offer_id}};this.$store.commit("multipleUpsells/setSection",f({},a)),this.$proxy.publish("MultipleRepresentation",a)},clearFormatting(t,e){var i={section:"offers",data:{key:e,value:Object.keys(t).reduce(((e,i)=>(e[i]=t[i],e)),{}),index:this.index,id:this.offers[this.index].offer_id}};this.$store.commit("multipleUpsells/setSection",f({},i)),this.$proxy.publish("MultipleRepresentation",i)}}},g=(0,d.Z)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.offer?i("div",{staticClass:"ocu-upsell-price__wrap flex--wrap",class:t.isMobileView?"ocu-upsell-price__mobile":"ocu-upsell-price"},[i("div",{staticClass:"ocu-upsell-price__container"},[t.isDiscounted?i("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.prices.price,expression:"prices.price"}],staticClass:"ocu-upsell-price__was",attrs:{tabindex:"0","data-testid":"price-static"}}):t._e(),t._v(" "),i("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.nowPrice,expression:"nowPrice"}],staticClass:"ocu-upsell-price__now",attrs:{tabindex:"0","data-testid":"price-discount"}}),t._v(" "),t.isInlineTextEditorEligible?i("span",{staticClass:"ocu-upsell-price__saving-wrap",class:t.highlightable,attrs:{"data-testid":"savings-border"}},[t.showSavings?i("span",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.savings,expression:"savings"}],staticClass:"ocu-upsell-price__saving",class:t.editableClasses,style:t.savingsStyles,attrs:{tabindex:"0","data-testid":"savings"},on:{click:t.onClick}}):t._e()]):t._e(),t._v(" "),!t.isInlineTextEditorEligible&&t.showSavings?i("span",{staticClass:"ocu-savings--flex"},[i("Wysiwyg",{staticClass:"ocu-offset-right--xs",attrs:{tabindex:"0",content:t.savingsContent,editable:t.editMode,type:"pre",hasPortal:!0,readOnly:!0,layoutType:"DECORATOR_2",fieldName:"savings",position:"centered",isDecorator:""},on:{"save:content":function(e){return t.saveContent(Object.assign({},e,{type:"savings_amount"}))}}}),t._v(" "),i("Wysiwyg",{staticClass:"ocu-saving-label",attrs:{tabindex:"0",content:t.labelContent,editable:t.editMode,type:"pre",hasPortal:!0,limit:25,layoutType:"DECORATOR_3",fieldName:"savings",position:"centered"},on:{"save:content":function(e){return t.saveContent(Object.assign({},e,{type:"savings"}))}}})],1):t._e()])]):t._e()}),[],!1,null,"3ca1d4f2",null).exports;var v=i(78771);function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const x={name:"Description",props:{index:Number,product:Object,isInlineTextEditorEligible:Boolean},components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},computed:y(y({},(0,s.Se)({offers:"".concat(r.Fm,"/offers"),offerData:"".concat(r.Fm,"/offerProducts"),editableClasses:"".concat(r.Fm,"/editableClasses"),highlightable:"".concat(r.Fm,"/highlightable"),editMode:"".concat(r.Fm,"/editMode"),offerDescription:"".concat(r.Fm,"/offerDescription")})),{},{offer(){return this.offers[this.index]},description(){var t;return null===(t=this.offer)||void 0===t?void 0:t.description.text},isDescriptionEnabled(){var t;return null===(t=this.offer)||void 0===t?void 0:t.description.enabled},inlineDescription(){var t,e;return null===(t=this.offer)||void 0===t||null===(e=t.description)||void 0===e?void 0:e.inline_content},id(){return Object.keys(this.product)[0]},productId(){return this.product[this.id].id},isOptionSingle(){return 0===this.product[this.id].options.filter((t=>{var{values:e}=t;return!e.every((t=>/Default(\sTitle)?/.test(t)))})).length},needMargin(){return this.isOptionSingle?"offset-bottom--sm":"offset-bottom--xs"},importedDescription(){var t;return null===(t=this.offerData[this.index])||void 0===t?void 0:t.description},descriptionContent(){return this.inlineDescription?this.$utils.inlineEntitiesReplacer(this.inlineDescription):this.description},contentWithOutVariables(){return this.inlineDescription?this.$utils.editorVariableFinder(this.inlineDescription,"text",o.Z,this.$store.state.multipleUpsellsModule,this.offerData[this.index].offer_id):this.offerDescription(this.description,this.id)}}),methods:{onClick(){if(this.editMode){var t={tab:"offers",type:"description",index:this.index,id:this.offerData[this.index].offer_id,product_id:this.productId};this.$proxy.publish("buybox:render",this.index),this.$proxy.publish("wysiwyg",t)}},saveWysiwyg(t){var e,{key:i,content:n}=t,s={section:"offers",data:{key:"description",value:y(y({},null===(e=this.offer)||void 0===e?void 0:e.description),{},{[i]:n}),index:this.index,id:this.offerData[this.index].offer_id}};this.$store.commit("multipleUpsells/setSection",y({},s)),this.$proxy.publish("MultipleRepresentation",s)},updateDescription(){var t=this;return(0,v.Z)((function*(){return t.$store.dispatch("getProductDescription",t.productId)}))()}}},O=(0,d.Z)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDescriptionEnabled,expression:"isDescriptionEnabled"}]},[t.isInlineTextEditorEligible?i("div",{staticClass:"ocu-description-highlight",class:[t.highlightable,t.needMargin]},[i("div",{staticClass:"ocu-description-editable",class:t.editableClasses,attrs:{"data-testid":"ocu-description-editable"}}),t._v(" "),i("div",{staticClass:"ocu-upsell-description"},[i("p",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.offerDescription(t.description,t.id),expression:"offerDescription(description, id)"}],attrs:{tabindex:"0","data-testid":"description-text"},on:{click:t.onClick}})])]):i("Wysiwyg",{class:t.needMargin,attrs:{tabindex:"0",offerIndex:t.index,content:t.descriptionContent,contentWithoutVariables:t.contentWithOutVariables,editable:t.editMode,productDescription:t.updateDescription,toolbarWidth:"ocu-toolbar--wide",type:"pre",hasPortal:!0,layoutType:"DESCRIPTION",fieldName:"description",position:"centered",hasOverflow:""},on:{"save:content":t.saveWysiwyg}})],1)}),[],!1,null,"b2d6d678",null).exports;function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const P={name:"Variants",components:{OptionsSelector:i(59435).Z},props:["product","index"],computed:_(_({},(0,s.Se)({offers:"".concat(r.Fm,"/offers"),isPreviewMode:"".concat(r.Fm,"/isPreviewMode"),editMode:"".concat(r.Fm,"/editMode"),offerProducts:"".concat(r.Fm,"/offerProducts"),buyBoxRenderingConfig:"".concat(r.Fm,"/buyBoxRenderingConfig")})),{},{id(){return Object.keys(this.product)[0]},allowedVariants(){return this.offers[this.index].variants},shopifyProduct(){return this.product[this.id]},hideVariant(){var t;return null===(t=this.offers[this.index])||void 0===t?void 0:t.hide_variant_selector},dropdownStyles(){var{buyBoxRendered:t}=this.buyBoxRenderingConfig;return this.isPreviewMode&&!t?{pointerEvents:"none"}:null},previewMode(){return this.$store.state[r.Fm].previewMode},isDisabled(){return this.offerProducts[this.index].selected}}),methods:{onChange(t){if(!t)return this.$store.dispatch("".concat(r.Fm,"/log"),{onchange:t});this.$store.commit("".concat(r.Fm,"/setVariant"),{productId:this.index,variant:t}),this.$store.commit("".concat(r.Fm,"/setPrices"),{index:this.index,prices:{_price:t.price/100,_compareAtPrice:t.compare_at_price/100}})},showTab(){this.isPreviewMode&&this.editMode&&this.$proxy.publish("buybox:render",this.index)}}},C=(0,d.Z)(P,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("OptionsSelector",{directives:[{name:"show",rawName:"v-show",value:!t.hideVariant,expression:"!hideVariant"}],attrs:{product:t.shopifyProduct,allowedVariants:t.allowedVariants,unavailableVariants:t.previewMode,isDisabled:t.isDisabled,styles:t.dropdownStyles},on:{"change:variant":t.onChange},nativeOn:{mousedown:function(e){return t.showTab.apply(null,arguments)}}})}),[],!1,null,"0bb597c1",null).exports,S={name:"Icon",props:{iconName:{type:String},iconTitle:{type:String},iconClass:{type:[String,Array],default:""}},computed:{iconId(){return"#".concat(this.iconName)}}};function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function E(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const T={name:"StarIcon",components:{Icon:(0,d.Z)(S,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.iconTitle,targetClasses:[t.iconClass,"icon"]},expression:"{ content: iconTitle, targetClasses: [iconClass, 'icon'] }"}],class:t.iconClass},[i("use",t._b({attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink"}},"use",{"xlink:href":t.iconId},!1))])}),[],!1,null,"f4668526",null).exports},props:{index:Number,indexOffer:Number},computed:E(E({},(0,s.Se)({starRating:"".concat(r.Fm,"/starRating")})),{},{starRatingSettings(){return this.starRating[this.indexOffer]},filledColor(){return this.starRatingSettings.star_color.filled},emptyColor(){return this.starRatingSettings.star_color.empty},ratingValue(){return this.starRatingSettings.value},fillStars(){var t=(this.ratingValue-this.index).toFixed(2);return{fill:t<.3?this.emptyColor:this.filledColor,color:t>=.8?this.filledColor:this.emptyColor}}})};function D(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function k(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?D(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const F={name:"ProductRating",components:{StarIcon:(0,d.Z)(T,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("icon",{staticClass:"ocu-star-icon",style:t.fillStars,attrs:{"icon-name":"ty_star_rating"}})}),[],!1,null,"a3490bf8",null).exports,Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},props:{index:Number,isInlineTextEditorEligible:Boolean},data:()=>({blockHeight:0}),computed:k(k({},(0,s.Se)({offers:"".concat(r.Fm,"/offers"),offerData:"".concat(r.Fm,"/offerProducts"),editableClasses:"".concat(r.Fm,"/editableClasses"),highlightable:"".concat(r.Fm,"/highlightable"),editMode:"".concat(r.Fm,"/editMode"),starRating:"".concat(r.Fm,"/starRating")})),{},{starRatingSettings(){return this.starRating[this.index]},ratingText(){var t;return null===(t=this.starRatingSettings)||void 0===t?void 0:t.text},ratingValue(){var t;return null===(t=this.starRatingSettings)||void 0===t?void 0:t.value},isRatingTextEnabled(){var t;return null===(t=this.starRatingSettings)||void 0===t?void 0:t.enabled},ratingContent(){var t;return(null===(t=this.starRatingSettings)||void 0===t?void 0:t.inline_content)||this.ratingText},ratingWithOutVariables(){var t,e;return null!==(t=this.starRatingSettings)&&void 0!==t&&t.inline_content?this.replaceText(null===(e=this.starRatingSettings)||void 0===e?void 0:e.inline_content):this.ratingText},offerId(){return this.offerData[this.index].offer_id}}),methods:{onClick(){if(this.editMode){var t={tab:"offers",type:"star_rating",index:this.index,id:this.offerId};this.$proxy.publish("buybox:render",this.index),this.$proxy.publish("wysiwyg",t)}},saveWysiwyg(t){var e,{key:i,content:n}=t;this.blockHeight=(null===(e=this.$refs.rating)||void 0===e?void 0:e.$el.offsetHeight)||0;var s={section:"offers",data:{key:"star_rating",value:k(k({},this.starRatingSettings),{},{[i]:n}),index:this.index,id:this.offerId}};this.$store.commit("multipleUpsells/setSection",k({},s)),this.$proxy.publish("MultipleRepresentation",s)},replaceText(t){return this.$utils.editorVariableFinder(t,"text",o.Z,this.$store.state.multipleUpsellsModule,this.offerId)}}},I=(0,d.Z)(F,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isRatingTextEnabled?i("div",{staticClass:"ocu-rating-wrap"},[i("div",{staticClass:"ocu-rating-star"},t._l(5,(function(e,n){return i("div",{key:n,staticClass:"ocu-rating-star_item"},[i("star-icon",{attrs:{index:n,indexOffer:t.index}})],1)})),0),t._v(" "),i("span",{staticClass:"ocu-rating-value",attrs:{tabindex:"0","data-testid":"rating-value"}},[t._v(t._s(t.ratingValue))]),t._v(" "),t.isInlineTextEditorEligible?i("div",{class:["ocu-rating-highlight",t.highlightable],attrs:{"data-testid":"rating-highlight"},on:{click:t.onClick}},[i("div",{staticClass:"ocu-rating-editable",class:t.editableClasses,attrs:{"data-testid":"rating-editable"}}),t._v(" "),i("div",{staticClass:"ocu-rating-description",attrs:{"data-testid":"rating-description"}},[i("p",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.ratingText,expression:"ratingText"}],attrs:{tabindex:"0"}})])]):i("Wysiwyg",{ref:"rating",staticClass:"ocu-rating-inline ocu-label--width",class:t.editableClasses,attrs:{tabindex:"0",offerIndex:t.index,content:t.ratingContent,contentWithoutVariables:t.ratingWithOutVariables,editable:t.editMode,toolbarWidth:"ocu-toolbar--wide",isEmptyValidation:!0,hasOverflow:t.blockHeight>110,position:"centered",type:"pre",hasPortal:!0,layoutType:"HEADLINE_RATING",fieldName:"headline"},on:{"save:content":t.saveWysiwyg}})],1):t._e()}),[],!1,null,"7384babf",null).exports;function M(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}const $={name:"HeroSection",props:{product:Object,index:Number,isInlineTextEditorEligible:Boolean},components:{ProductTitle:u,PriceBreakdown:g,Description:O,Variants:C,ProductRating:I},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?M(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},(0,s.Se)({isTabletView:"".concat(r.Fm,"/isTabletView")}))},V=(0,d.Z)($,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["ocu-upsell__main",{"ocu-upsell__main-tablet":t.isTabletView}]},[i("ProductRating",{attrs:{index:t.index,isInlineTextEditorEligible:t.isInlineTextEditorEligible}}),t._v(" "),i("ProductTitle",{attrs:{index:t.index,isInlineTextEditorEligible:t.isInlineTextEditorEligible}}),t._v(" "),i("PriceBreakdown",{attrs:{isInlineTextEditorEligible:t.isInlineTextEditorEligible,index:t.index}}),t._v(" "),i("Description",{attrs:{index:t.index,product:t.product,isInlineTextEditorEligible:t.isInlineTextEditorEligible}}),t._v(" "),i("Variants",{staticClass:"ocu-upsell__variants",attrs:{index:t.index,product:t.product}})],1)}),[],!1,null,null,null).exports;function W(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function B(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?W(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const R={name:"HeroImage",props:{index:Number},computed:B(B({},(0,s.Se)({isMobileView:"".concat(r.Fm,"/isMobileView"),editMode:"".concat(r.Fm,"/editMode"),offerProducts:"".concat(r.Fm,"/offerProducts"),offers:"".concat(r.Fm,"/offers"),products:"".concat(r.Fm,"/products")})),{},{product(){return this.products[this.index]["".concat(this.offerProducts[this.index].offer_id)]},variant(){var t;return null===(t=this.offerProducts[this.index])||void 0===t?void 0:t.variant},imageBorder(){return this.offers[this.index].image_border},heroType(){return this.offers[this.index].hero_section_type},isHeroTypeNone(){return"none"===this.heroType},customImage(){var t=this.offers[this.index].images.find((t=>"image"===t.kind));return null!=t&&t.delete||!t||this.isHeroTypeNone?"".concat(r.G3,"/no_image.svg"):null==t?void 0:t.src},shopifyImage(){var t,e,i=this.variant&&(null===(t=this.variant)||void 0===t?void 0:t.featured_image);return"string"==typeof(i=i||this.product.featured_image)?i:null===(e=i)||void 0===e?void 0:e.src},image(){return this.isHeroTypeNone&&this.shopifyImage?this.shopifyImage:this.customImage},customImageTitle(){var t;return null===(t=this.offers[this.index].image)||void 0===t?void 0:t.title},shopifyImageTitle(){return this.variant&&this.variant.title},title(){return this.isHeroTypeNone?this.shopifyImageTitle:this.customImageTitle},classes(){return[{"ocu-upsell__image--bordered":this.imageBorder},this.isMobileView?"ocu-upsell__image-mobile":"ocu-upsell__image",{"ocu-upsell__image-rtl":this.isRightToLeftDirection}]},isRightToLeftDirection(){var t=document.querySelector(":root");return t.hasAttribute("dir")&&"rtl"===t.getAttribute("dir")}}),methods:{onClick(){this.editMode&&this.$proxy.publish("buybox:render",this.index)}}},N=(0,d.Z)(R,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.variant?i("div",{staticClass:"ocu-upsell__image-wrap",class:t.classes},[i("img",{staticClass:"ocu-upsell__img",attrs:{src:t.image,alt:t.title,tabindex:"0","data-testid":"multiple-image"},on:{click:t.onClick}})]):t._e()}),[],!1,null,"7eac3388",null).exports;var H=null;const Z=(t,e)=>function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];var r=()=>{t.apply(this,n),H=null};H&&clearTimeout(H),H=setTimeout(r,e)};function A(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?A(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const q={name:"HeroQuantity",props:{index:Number,isInlineTextEditorEligible:Boolean},components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},data:()=>({timer:{slow:null,medium:null,fast:null},interval:{slow:null,medium:null,fast:null},priority:{input:{min:1,max:99999}},events:{mouseenter:"hover",mouseleave:"background",mousedown:"pressed",mouseup:"background"},btnState:"background",innerWidth:window.innerWidth}),created(){window.addEventListener("resize",this.resizeHandler)},destroyed(){window.removeEventListener("resize",this.resizeHandler)},computed:z(z(z({},(0,s.Se)({general:"".concat(r.Fm,"/general"),buttons:"".concat(r.Fm,"/buttons"),editableClasses:"".concat(r.Fm,"/editableClasses"),isMobileView:"".concat(r.Fm,"/isMobileView"),highlightable:"".concat(r.Fm,"/highlightable"),editMode:"".concat(r.Fm,"/editMode"),offers:"".concat(r.Fm,"/offers"),offerProducts:"".concat(r.Fm,"/offerProducts"),isPreviewMode:"".concat(r.Fm,"/isPreviewMode")})),(0,s.rn)({isAnyEditorOpened:t=>t.wysiwyg.isAnyEditorOpened})),{},{buttonOrder(){return"button-order".concat(this.index)},buttonNotSelected(){return"button-not-selected".concat(this.index)},buttonColor(){return this.offers[this.index].accept_button.color},buttonStyles(){var t=this.isDisabledButton&&this.isLive?"#D9D9D9":this.buttons.buy[this.btnState];return{color:"".concat(this.buttonColor," !important"),backgroundColor:t,cursor:this.isDisabledButton&&this.isLive?"not-allowed":"default"}},inlineButtonStyles(){return{backgroundColor:this.isDisabledButton&&this.isLive?"#D9D9D9":this.buttons.buy[this.btnState],cursor:this.isDisabledButton&&this.isLive?"not-allowed":"default"}},acceptButtonSettings(){return this.offers[this.index].accept_button},hideQuantity(){return this.offers[this.index].hide_quantity?this.offers[this.index].hide_quantity&&(this.isLive&&this.innerWidth>=768||this.editMode||this.isPreviewMode&&!this.isMobileView)?"ocu-quantity-range__hidden":"ocu-quantity-range__none":"ocu-quantity-range__block"},isLive(){return!this.editMode&&!this.isPreviewMode},buttonTitleStyles(){return{fontSize:this.acceptButtonSettings.size,fontStyle:this.acceptButtonSettings.italic,fontFamily:this.acceptButtonSettings.font,fontWeight:this.acceptButtonSettings.weight||(this.acceptButtonSettings.emphasized?"700":"400"),textDecoration:this.acceptButtonSettings.underline,color:this.buttonColor}},bgColorPressed(){return z(z({},this.dividerColor),{},{backgroundColor:this.buttons.buy.pressed,color:"".concat(this.buttonColor," !important")})},crossButtonColor(){return{fill:this.buttonColor}},dividerColor(){return{"--divider":this.buttonColor}},buttonTitle(){return this.acceptButtonSettings.text},isSelected(){return this.offerProducts[this.index].selected},quantity(){return this.offerProducts[this.index].quantity},buttonFullWidth(){return(this.isMobile||this.isLive&&this.innerWidth<768)&&!this.hideQuantity},selectedProducts(){var t=!1;for(var e in this.offerProducts)this.offerProducts[e].selected&&t++;return t},isDisabledButton(){var t;return+(null===(t=this.general)||void 0===t?void 0:t.products_limit)===this.selectedProducts&&!this.isSelected},addButtonContent(){var t,{buttonTitleStyles:e,buttonTitle:i}=this,{fontSize:n,fontStyle:s,fontFamily:r,fontWeight:o,textDecoration:a,color:l}=e,c=l.replace(/\s*!important/,""),d='\n                <span style="\n                    color: '.concat(c,";\n                    font-weight: ").concat(o,";\n                    font-style: ").concat(s,";\n                    font-size: ").concat(n,";\n                    font-family: ").concat(r,";\n                    text-decoration: ").concat(a,'">\n                    ').concat(i,"\n                </span>\n            ");return(null===(t=this.acceptButtonSettings)||void 0===t?void 0:t.inline_content)||d}}),methods:z(z({},(0,s.OI)({setSelectedProduct:"".concat(r.Fm,"/setSelectedProduct"),setQuantity:"".concat(r.Fm,"/setQuantity")})),{},{resizeHandler(t){this.isLive&&(this.innerWidth=t.target.innerWidth)},checkPriority(t){var e=this.priority.input,i=e.min,n=e.max,s=+t.target.value;isNaN(s)?s=1:s<i?s=i:s>n&&(s=n),t.target.value=this.quantity,Z((()=>{this.setQuantity({index:this.index,quantity:s})}),100)()},changePriority(t,e){if("mousedown"===t.type||13===t.keyCode){var i=i=>{var n=this.quantity;"increment"===e?n++:"decrement"===e&&n--,t.target.value=n,this.checkPriority(i)};i(t),this.autoChangePriority(i,t)}},autoChangePriority:function(t,e){this.timer.slow||(this.timer.slow=setTimeout((()=>{this.interval.slow=setInterval((()=>t(e)),50)}),100),this.timer.medium=setTimeout((()=>{this.interval.medium=setInterval((()=>t(e)),25)}),1e3),this.timer.fast=setTimeout((()=>{this.interval.fast=setInterval((()=>t(e)),4)}),2500))},clearTimers(){for(var t in this.interval)Object.prototype.hasOwnProperty.call(this.interval,t)&&clearInterval(this.interval[t]);for(var e in this.timer)Object.prototype.hasOwnProperty.call(this.timer,e)&&clearTimeout(this.timer[e]);this.timer.slow=null},changeBtnState(t){this.btnState=this.events[t.type]},setSelected(t){this.setSelectedProduct({index:this.index,selected:t})},setFocusButtonOrder(){setTimeout((()=>this.$refs["button-order".concat(this.index)].focus()),0)},setFocusButtonNotSelected(){setTimeout((()=>this.$refs["button-not-selected".concat(this.index)].focus()),0)},onClick(t){var e=this;return(0,v.Z)((function*(){if(e.editMode){t.stopPropagation();var i={tab:"offers",type:"accept_button",text:!0,index:e.index,id:e.offerProducts[e.index].offer_id};e.$proxy.publish("buybox:close"),yield e.$nextTick(),e.$proxy.publish("change:tab","buttons"),e.$proxy.publish("decorator",i)}}))()},saveWysiwyg(t){var{key:e,content:i}=t,n={section:"offers",data:{key:"accept_button",value:z(z({},this.acceptButtonSettings),{},{[e]:i}),index:this.index,id:this.offerProducts[this.index].offer_id}};this.$store.commit("multipleUpsells/setSection",z({},n)),this.$proxy.publish("MultipleRepresentation",n)},clickAddButton(t){var e=this;return(0,v.Z)((function*(){e.editMode&&(e.$proxy.publish("buybox:close"),yield e.$nextTick(),e.$proxy.publish("change:tab","buttons"),t.stopPropagation())}))()}})},U=(0,d.Z)(q,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ocu-upsell__quantity",class:{"ocu-upsell__quantity-mobile":t.isMobileView}},[i("div",{staticClass:"ocu-quantity-range",class:t.hideQuantity,attrs:{"data-testid":"quantity"}},[i("button",{staticClass:"ocu-quantity-range__minus",attrs:{"data-testid":"button-minus"},on:{mousedown:function(e){return t.changePriority(e,"decrement")},keydown:function(e){return t.changePriority(e,"decrement")},mouseout:t.clearTimers,mouseup:t.clearTimers,keyup:t.clearTimers}}),t._v(" "),i("input",{staticClass:"ocu-quantity-range__input",attrs:{type:"text","data-testid":"quantity-input"},domProps:{value:t.quantity},on:{input:t.checkPriority}}),t._v(" "),i("button",{staticClass:"ocu-quantity-range__plus",attrs:{"data-testid":"button-plus"},on:{mousedown:function(e){return t.changePriority(e,"increment")},keydown:function(e){return t.changePriority(e,"increment")},mouseout:t.clearTimers,mouseup:t.clearTimers,keyup:t.clearTimers}})]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!t.isSelected,expression:"!isSelected"}],ref:t.buttonNotSelected,staticClass:"ocu-order-button ocu-order-button__buy",class:{"ocu-order-button-mobile":t.isMobileView,"ocu-order-button__legacy":t.isInlineTextEditorEligible},style:t.isInlineTextEditorEligible?t.buttonStyles:t.inlineButtonStyles,attrs:{disabled:t.isDisabledButton,"data-testid":"not-selected-button"},on:{mouseenter:t.changeBtnState,mouseleave:t.changeBtnState,mousedown:t.changeBtnState,mouseup:t.changeBtnState,keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;!t.isAnyEditorOpened&&t.setFocusButtonOrder},click:function(e){return t.setSelected(!0)}}},[t.isInlineTextEditorEligible?i("span",{class:t.highlightable,attrs:{"data-testid":"text-border"}},[i("span",{class:t.editableClasses,style:t.buttonTitleStyles,attrs:{"data-testid":"button-text"},on:{click:t.onClick}},[t._v("\n                "+t._s(t.buttonTitle)+"\n            ")])]):i("span",{on:{click:t.clickAddButton}},[i("Wysiwyg",{staticClass:"ocu-label--width",attrs:{"data-testid":"buy-span",content:t.addButtonContent,limit:25,editable:t.editMode,offerIndex:t.index,isEmptyValidation:!0,type:"pre",hasPortal:!0,layoutType:"DECORATOR_3",fieldName:"buttons",position:"centered"},on:{"save:content":t.saveWysiwyg}})],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelected,expression:"isSelected"}],staticClass:"ocu-order-button ocu-order-button__selected",class:{"ocu-order-button-mobile":t.isMobileView},style:t.bgColorPressed,attrs:{"data-testid":"selected-button"}},[i("button",{ref:t.buttonOrder,staticClass:"ocu-order-button__selected-text"},[t.isInlineTextEditorEligible?i("span",{class:t.highlightable,attrs:{"data-testid":"text-border"}},[i("span",{class:t.editableClasses,style:t.buttonTitleStyles,attrs:{"data-testid":"button-text"},on:{click:t.onClick}},[t._v("\n                    "+t._s(t.buttonTitle)+"\n                ")])]):i("span",{on:{click:function(t){return t.stopPropagation()}}},[i("Wysiwyg",{staticClass:"ocu-label--width",attrs:{"data-testid":"buy-span",content:t.addButtonContent,limit:25,editable:t.editMode,type:"pre",hasPortal:!0,offerIndex:t.index,isEmptyValidation:!0,layoutType:"DECORATOR_3",fieldName:"buttons",position:"centered"},on:{"save:content":t.saveWysiwyg}})],1),t._v(" "),i("span",{staticClass:"ocu-order-button__selected-counter",style:t.buttonTitleStyles,attrs:{"data-testid":"quantity-selected-button"}},[t._v("("+t._s(t.quantity)+")")])]),t._v(" "),i("button",{staticClass:"ocu-order-button__selected-remove",attrs:{type:"button","aria-label":"Remove from order","data-testid":"selected-button-order"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;!t.isAnyEditorOpened&&t.setFocusButtonOrder},click:function(e){return e.stopPropagation(),t.setSelected(!1)}}},[i("svg",{style:t.crossButtonColor,attrs:{"data-testid":"selected-button-icon"}},[i("use",{attrs:{"xlink:href":"#close","xmlns:xlink":"http://www.w3.org/1999/xlink"}})])])])])}),[],!1,null,"3515bf66",null).exports;function L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const G={name:"HeroUspText",components:{Wysiwyg:()=>Promise.all([i.e(555),i.e(163)]).then(i.bind(i,38630))},props:{index:Number,product:Object,isInlineTextEditorEligible:Boolean},data:()=>({blockHeight:0}),computed:Q(Q({},(0,s.Se)({offers:"".concat(r.Fm,"/offers"),offerData:"".concat(r.Fm,"/offerProducts"),editableClasses:"".concat(r.Fm,"/editableClasses"),highlightable:"".concat(r.Fm,"/highlightable"),editMode:"".concat(r.Fm,"/editMode"),isMobileView:"".concat(r.Fm,"/isMobileView")})),{},{offer(){return this.offers[this.index]},uspText(){var t;return null===(t=this.offer)||void 0===t?void 0:t.usp.text.content},isUspTextEnabled(){var t;return null===(t=this.offer)||void 0===t?void 0:t.usp.enabled},id(){return Object.keys(this.product)[0]},offerId(){return this.offerData[this.index].offer_id},uspContent(){var t,e,i;return this.editMode&&this.isAnyEditorOpened?(null===(t=this.offer)||void 0===t||null===(e=t.usp)||void 0===e||null===(i=e.text)||void 0===i?void 0:i.inline_content)||this.uspText:this.uspWithOutVariables},uspWithOutVariables(){var t,e,i,n,s,r;return null!==(t=this.offer)&&void 0!==t&&null!==(e=t.usp)&&void 0!==e&&null!==(i=e.text)&&void 0!==i&&i.inline_content?this.replaceText(null===(n=this.offer)||void 0===n||null===(s=n.usp)||void 0===s||null===(r=s.text)||void 0===r?void 0:r.inline_content):this.uspText}}),methods:{onClick(){if(this.editMode){var t={tab:"offers",type:"usp",index:this.index,id:this.offerId};this.$proxy.publish("buybox:render",this.index),this.$proxy.publish("wysiwyg",t)}},saveWysiwyg(t){var e,i,n,s,{key:r,content:o}=t;this.blockHeight=(null===(e=this.$refs.usp)||void 0===e?void 0:e.$el.offsetHeight)||0;var a={section:"offers",data:{key:"usp",value:Q(Q({},null===(i=this.offer)||void 0===i?void 0:i.usp),{},{text:Q(Q({},null===(n=this.offer)||void 0===n||null===(s=n.usp)||void 0===s?void 0:s.text),{},{[r]:o})}),index:this.index,id:this.offerId}};this.$store.commit("multipleUpsells/setSection",Q({},a)),this.$proxy.publish("data",a)},replaceText(t){return this.$utils.editorVariableFinder(t,"text",o.Z,this.$store.state.multipleUpsellsModule,this.offerId)}}},J=(0,d.Z)(G,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isUspTextEnabled?i("div",{staticClass:"ocu-usptext-highlight",class:[{highlightable:t.isInlineTextEditorEligible}],attrs:{"data-testid":"usp-text-wrapper"}},[i("div",{staticClass:"ocu-usptext-editable",class:t.editableClasses,attrs:{"data-testid":"usp-text-editable"}}),t._v(" "),t.isInlineTextEditorEligible?i("div",{class:["ocu-usptext-upsell",{"ocu-usptext-upsell__mobile":t.isMobileView}],attrs:{tabindex:"0","data-testid":"usp-text-upsell"}},[i("p",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.uspText,expression:"uspText"}],attrs:{"data-testid":"usp-text-content"},on:{click:t.onClick}})]):i("Wysiwyg",{ref:"usp",class:[t.editableClasses,{"ocu-usptext-upsell__mobile":t.isMobileView}],attrs:{tabindex:"0",offerIndex:t.index,content:t.uspContent,contentWithoutVariables:t.uspWithOutVariables,editable:t.editMode,isEmptyValidation:!0,hasOverflow:t.blockHeight>110,toolbarWidth:"ocu-toolbar--wide",type:"pre",hasPortal:!0,layoutType:"HEADLINE_USP",position:"centered",fieldName:"headline"},on:{"save:content":t.saveWysiwyg}})],1):t._e()}),[],!1,null,"43fad17e",null).exports;function K(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function X(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?K(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const Y={name:"HeroUspImage",props:{index:Number,product:Object},computed:X(X({},(0,s.Se)({offers:"".concat(r.Fm,"/offers"),offerData:"".concat(r.Fm,"/offerProducts"),editableClasses:"".concat(r.Fm,"/editableClasses"),highlightable:"".concat(r.Fm,"/highlightable"),editMode:"".concat(r.Fm,"/editMode"),isMobileView:"".concat(r.Fm,"/isMobileView"),offerProducts:"".concat(r.Fm,"/offerProducts")})),{},{offer(){return this.offers[this.index]},variant(){var t;return null===(t=this.offerProducts[this.index])||void 0===t?void 0:t.variant},isUspImageEnabled(){var t;return null===(t=this.offer)||void 0===t?void 0:t.usp.image.enabled},id(){return Object.keys(this.product)[0]},imageSrc(){var t,e,i,n=null===(t=this.offers[this.index].images)||void 0===t?void 0:t.find((t=>"usp"===t.kind));return!n||null!=n&&n.delete?null!==(e=this.offer)&&void 0!==e&&e.usp.image.src?null===(i=this.offer)||void 0===i?void 0:i.usp.image.src:"".concat(r.G3,"/usp_placeholder.svg"):n.src},imageText(){var t,e,i,n=null===(t=this.offers[this.index].images)||void 0===t?void 0:t.find((t=>"usp"===t.kind));return!n||null!=n&&n.delete?null!==(e=this.offer)&&void 0!==e&&e.usp.image.src?null===(i=this.offer)||void 0===i?void 0:i.usp.image.title:"usp-image-title":n.title}}),methods:{onClick(){this.editMode&&this.$proxy.publish("buybox:render",this.index)}}};function tt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function et(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const it={name:"Offer",components:{HeroSection:V,HeroImage:N,HeroQuantity:U,HeroUspText:J,HeroUspImage:(0,d.Z)(Y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isUspImageEnabled?i("div",{staticClass:"ocu-upsell__usp-wrapper",attrs:{"data-testid":"usp-image-wrapper"}},[i("img",{staticClass:"ocu-upsell__usp-img",attrs:{"data-testid":"usp-image",alt:t.imageText,src:t.imageSrc},on:{click:t.onClick}})]):t._e()}),[],!1,null,"506e6206",null).exports},props:{product:Object,index:Number,opacity:Boolean,isInlineTextEditorEligible:Boolean},computed:et(et({},(0,s.Se)({isMobileView:"".concat(r.Fm,"/isMobileView"),offerReferenceIds:"".concat(r.Fm,"/offerReferenceIds"),tracking:"".concat(r.Fm,"/tracking"),editMode:"".concat(r.Fm,"/editMode"),editableClasses:"".concat(r.Fm,"/editableClasses")})),{},{sectionClasses(){return["offer-section__container",this.opacity?this.editableClasses:""]},offerClasses(){return[this.isMobileView?"ocu-upsell__item-mobile":"ocu-upsell__item",{opacity:this.opacity}]}}),mounted(){this.$store.commit("".concat(r.Fm,"/trackingOffer"),{index:this.index,id:this.offerReferenceIds[this.index],height:this.$el.offsetHeight,top:this.$el.offsetTop,isInViewport:!1,tracked:!1})},methods:{onClick(){this.editMode&&this.$proxy.publish("buybox:render",this.index)}}},nt=(0,d.Z)(it,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{class:t.sectionClasses,on:{click:t.onClick}},[i("div",{staticClass:"ocu-upsell__item-wrap ocu-upsell-flex",class:t.offerClasses,attrs:{"data-testid":"wrapper_offer"}},[i("div",{staticClass:"ocu-upsell__item-info ocu-upsell-flex"},[i("HeroImage",{attrs:{index:t.index}}),t._v(" "),i("HeroSection",{attrs:{index:t.index,product:t.product,isInlineTextEditorEligible:t.isInlineTextEditorEligible}})],1),t._v(" "),i("div",{staticClass:"ocu-upsell-flex ocu-upsell-column"},[i("HeroQuantity",{attrs:{isInlineTextEditorEligible:t.isInlineTextEditorEligible,index:t.index}}),t._v(" "),i("HeroUspText",{attrs:{index:t.index,product:t.product,isInlineTextEditorEligible:t.isInlineTextEditorEligible}}),t._v(" "),i("HeroUspImage",{attrs:{index:t.index,product:t.product}})],1)])])}),[],!1,null,null,null).exports}}]);